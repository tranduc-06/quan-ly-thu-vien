"bxPxMx"in window&&bxPxMx.log("js"),function(e){var t=setTimeout;function r(){}function i(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],p(e,this)}function o(n,r){for(;3===n._state;)n=n._value;0!==n._state?(n._handled=!0,i._immediateFn(function(){var e,t=1===n._state?r.onFulfilled:r.onRejected;if(null!==t){try{e=t(n._value)}catch(e){return void s(r.promise,e)}a(r.promise,e)}else(1===n._state?a:s)(r.promise,n._value)})):n._deferreds.push(r)}function a(t,e){try{if(e===t)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"==typeof e||"function"==typeof e)){var n=e.then;if(e instanceof i)return t._state=3,t._value=e,void c(t);if("function"==typeof n)return void p((r=n,o=e,function(){r.apply(o,arguments)}),t)}t._state=1,t._value=e,c(t)}catch(e){s(t,e)}var r,o}function s(e,t){e._state=2,e._value=t,c(e)}function c(e){2===e._state&&0===e._deferreds.length&&i._immediateFn(function(){e._handled||i._unhandledRejectionFn(e._value)});for(var t=0,n=e._deferreds.length;t<n;t++)o(e,e._deferreds[t]);e._deferreds=null}function l(e,t,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=n}function p(e,t){var n=!1;try{e(function(e){n||(n=!0,a(t,e))},function(e){n||(n=!0,s(t,e))})}catch(e){if(n)return;n=!0,s(t,e)}}i.prototype.catch=function(e){return this.then(null,e)},i.prototype.then=function(e,t){var n=new this.constructor(r);return o(this,new l(e,t,n)),n},i.all=function(e){var s=Array.prototype.slice.call(e);return new i(function(o,i){if(0===s.length)return o([]);var a=s.length;for(var e=0;e<s.length;e++)!function t(n,e){try{if(e&&("object"==typeof e||"function"==typeof e)){var r=e.then;if("function"==typeof r)return void r.call(e,function(e){t(n,e)},i)}s[n]=e,0==--a&&o(s)}catch(e){i(e)}}(e,s[e])})},i.resolve=function(t){return t&&"object"==typeof t&&t.constructor===i?t:new i(function(e){e(t)})},i.reject=function(n){return new i(function(e,t){t(n)})},i.race=function(o){return new i(function(e,t){for(var n=0,r=o.length;n<r;n++)o[n].then(e,t)})},i._immediateFn="function"==typeof setImmediate?function(e){setImmediate(e)}:function(e){t(e,0)},i._unhandledRejectionFn=function(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)},i._setImmediateFn=function(e){i._immediateFn=e},i._setUnhandledRejectionFn=function(e){i._unhandledRejectionFn=e},"undefined"!=typeof module&&module.exports?module.exports=i:e.Promise||(e.Promise=i)}(this),function(e){"use strict";var t,n,a,r,o,i,s,c,l,p;function u(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function d(e){return"string"!=typeof e&&(e=String(e)),e}function f(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return n&&(e[Symbol.iterator]=function(){return e}),e}function h(t){this.map={},t instanceof h?t.forEach(function(e,t){this.append(t,e)},this):Array.isArray(t)?t.forEach(function(e){this.append(e[0],e[1])},this):t&&Object.getOwnPropertyNames(t).forEach(function(e){this.append(e,t[e])},this)}function x(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function y(n){return new Promise(function(e,t){n.onload=function(){e(n.result)},n.onerror=function(){t(n.error)}})}function g(e){var t=new FileReader,n=y(t);return t.readAsArrayBuffer(e),n}function b(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function m(){return this.bodyUsed=!1,this._initBody=function(e){if(this._bodyInit=e)if("string"==typeof e)this._bodyText=e;else if(a&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e;else if(r&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else if(t&&URLSearchParams.prototype.isPrototypeOf(e))this._bodyText=e.toString();else if(o&&a&&s(e))this._bodyArrayBuffer=b(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!o||!ArrayBuffer.prototype.isPrototypeOf(e)&&!c(e))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=b(e)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):t&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},a&&(this.blob=function(){var e=x(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?x(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(g)}),this.text=function(){var e,t,n,r=x(this);if(r)return r;if(this._bodyBlob)return e=this._bodyBlob,t=new FileReader,n=y(t),t.readAsText(e),n;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},r&&(this.formData=function(){return this.text().then(_)}),this.json=function(){return this.text().then(JSON.parse)},this}function v(e,t){var n,r,o=(t=t||{}).body;if(e instanceof v){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new h(e.headers)),this.method=e.method,this.mode=e.mode,o||null==e._bodyInit||(o=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"omit",!t.headers&&this.headers||(this.headers=new h(t.headers)),this.method=(n=t.method||this.method||"GET",r=n.toUpperCase(),-1<l.indexOf(r)?r:n),this.mode=t.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&o)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(o)}function _(e){var o=new FormData;return e.trim().split("&").forEach(function(e){var t,n,r;e&&(n=(t=e.split("=")).shift().replace(/\+/g," "),r=t.join("=").replace(/\+/g," "),o.append(decodeURIComponent(n),decodeURIComponent(r)))}),o}function w(e,t){t=t||{},this.type="default",this.status=void 0===t.status?200:t.status,this.ok=200<=this.status&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new h(t.headers),this.url=t.url||"",this._initBody(e)}e.fetch||(t="URLSearchParams"in e,n="Symbol"in e&&"iterator"in Symbol,a="FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),r="FormData"in e,(o="ArrayBuffer"in e)&&(i=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],s=function(e){return e&&DataView.prototype.isPrototypeOf(e)},c=ArrayBuffer.isView||function(e){return e&&-1<i.indexOf(Object.prototype.toString.call(e))}),h.prototype.append=function(e,t){e=u(e),t=d(t);var n=this.map[e];this.map[e]=n?n+","+t:t},h.prototype.delete=function(e){delete this.map[u(e)]},h.prototype.get=function(e){return e=u(e),this.has(e)?this.map[e]:null},h.prototype.has=function(e){return this.map.hasOwnProperty(u(e))},h.prototype.set=function(e,t){this.map[u(e)]=d(t)},h.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},h.prototype.keys=function(){var n=[];return this.forEach(function(e,t){n.push(t)}),f(n)},h.prototype.values=function(){var t=[];return this.forEach(function(e){t.push(e)}),f(t)},h.prototype.entries=function(){var n=[];return this.forEach(function(e,t){n.push([t,e])}),f(n)},n&&(h.prototype[Symbol.iterator]=h.prototype.entries),l=["DELETE","GET","HEAD","OPTIONS","POST","PUT"],v.prototype.clone=function(){return new v(this,{body:this._bodyInit})},m.call(v.prototype),m.call(w.prototype),w.prototype.clone=function(){return new w(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new h(this.headers),url:this.url})},w.error=function(){var e=new w(null,{status:0,statusText:""});return e.type="error",e},p=[301,302,303,307,308],w.redirect=function(e,t){if(-1===p.indexOf(t))throw new RangeError("Invalid status code");return new w(null,{status:t,headers:{location:e}})},e.Headers=h,e.Request=v,e.Response=w,e.fetch=function(n,o){return new Promise(function(r,e){var t=new v(n,o),i=new XMLHttpRequest;i.onload=function(){var e,o,t={status:i.status,statusText:i.statusText,headers:(e=i.getAllResponseHeaders()||"",o=new h,e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(e){var t,n=e.split(":"),r=n.shift().trim();r&&(t=n.join(":").trim(),o.append(r,t))}),o)};t.url="responseURL"in i?i.responseURL:t.headers.get("X-Request-URL");var n="response"in i?i.response:i.responseText;r(new w(n,t))},i.onerror=function(){e(new TypeError("Network request failed"))},i.ontimeout=function(){e(new TypeError("Network request failed"))},i.open(t.method,t.url,!0),"include"===t.credentials?i.withCredentials=!0:"omit"===t.credentials&&(i.withCredentials=!1),"responseType"in i&&a&&(i.responseType="blob"),t.headers.forEach(function(e,t){i.setRequestHeader(t,e)}),i.send(void 0===t._bodyInit?null:t._bodyInit)})},e.fetch.polyfill=!0)}("undefined"!=typeof self?self:this),Array.prototype.filter||(Array.prototype.filter=function(e,t){"use strict";if("Function"!=typeof e&&"function"!=typeof e||!this)throw new TypeError;var n=this.length>>>0,r=new Array(n),o=this,i=0,a=-1;if(void 0===t)for(;++a!=n;)a in this&&e(o[a],a,o)&&(r[i++]=o[a]);else for(;++a!=n;)a in this&&e.call(t,o[a],a,o)&&(r[i++]=o[a]);return r.length=i,r}),Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest||(Element.prototype.closest=function(e){var t=this;if(!document.documentElement.contains(t))return null;do{if(t.matches(e))return t;t=t.parentElement||t.parentNode}while(null!==t&&1===t.nodeType);return null});var bxRecHost="//loki.boxx.ai",bxEveHost="//eve.boxx.ai",bxUploadHost="//upload.boxx.ai";window.objIsEmpty="objIsEmpty"in window?window.objIsEmpty:function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0};var getProductIdentifier=function(e,t){e.push.apply(e,t);var r=[];return e.forEach(function(e,t,n){n.indexOf(e)===t&&r.push(e)}),r.sort(),r.join("||")};String.prototype.hashCode=function(){var e,t=0;if(0===this.length)return t;for(e=0;e<this.length;e++)t=(t<<5)-t+this.charCodeAt(e),t|=0;return t},Storage.prototype.setObj=function(e,t){return this.setItem(e,JSON.stringify(t))},Storage.prototype.getObj=function(e){return JSON.parse(this.getItem(e))},Storage.prototype.extendObj=function(e,t){var n=this.getObj(e)||[];return n.push(t),this.setObj(e,n)},Storage.prototype.updateObj=function(e,t){var n=this.getObj(e)||{};for(var r in t)n[r]=t[r];return this.setObj(e,n)},Storage.prototype.updateExtendObject=function(e,r){var o=this.getObj(e)||{};for(var i in r){var t,a=!1;Object.keys(o).map(function(e){var t,n;e.split("||").some(function(e){return i.split("||").includes(e)})&&(t=getProductIdentifier(e.split("||"),i.split("||")),(n="Array"===(n=o[e]).constructor.name?n:[n]).push(r[i]),t!==e&&delete o[e],o[t]=n,a=!0)}),a||(t=getProductIdentifier([],i.split("||")),o[t]=[r[i]])}return this.setObj(e,o)},Storage.prototype.getExtendedObject=function(e,n){var r=this.getObj(e),o=[];return Object.keys(r).map(function(e){var t;e.split("||").some(function(e){return n.split("||").includes(e)})&&(t="Array"===(t=r[e]).constructor.name?t:[t],o=o.concat(t))}),o},Storage.prototype.slice=function(e,t){var n=this.getObj(e).slice(t);return this.setObj(e,n)},Element.prototype.closestChild=function(e){return this.matches(e)?this:this.querySelector(e)?this.querySelector(e):null},function(x,y){"use strict";var t;function l(e){this.time=e.time,this.target=e.target,this.rootBounds=e.rootBounds,this.boundingClientRect=e.boundingClientRect,this.intersectionRect=e.intersectionRect||i(),this.isIntersecting=!!e.intersectionRect;var t=this.boundingClientRect,n=t.width*t.height,r=this.intersectionRect,o=r.width*r.height;this.intersectionRatio=n?o/n:this.isIntersecting?1:0}function e(e,t){var n,r,o,i=t||{};if("function"!=typeof e)throw new Error("callback must be a function");if(i.root&&1!=i.root.nodeType)throw new Error("root must be an Element");this._checkForIntersections=(n=this._checkForIntersections.bind(this),r=this.THROTTLE_TIMEOUT,o=null,function(){o=o||setTimeout(function(){n(),o=null},r)}),this._callback=e,this._observationTargets=[],this._queuedEntries=[],this._rootMarginValues=this._parseRootMargin(i.rootMargin),this.thresholds=this._initThresholds(i.threshold),this.root=i.root||null,this.rootMargin=this._rootMarginValues.map(function(e){return e.value+e.unit}).join(" ")}function n(e,t,n,r){"function"==typeof e.addEventListener?e.addEventListener(t,n,r||!1):"function"==typeof e.attachEvent&&e.attachEvent("on"+t,n)}function r(e,t,n,r){"function"==typeof e.removeEventListener?e.removeEventListener(t,n,r||!1):"function"==typeof e.detatchEvent&&e.detatchEvent("on"+t,n)}function g(e){var t;try{t=e.getBoundingClientRect()}catch(e){}return t?(t.width&&t.height||(t={top:t.top,right:t.right,bottom:t.bottom,left:t.left,width:t.right-t.left,height:t.bottom-t.top}),t):i()}function i(){return{top:0,bottom:0,left:0,right:0,width:0,height:0}}function o(e,t){for(var n=t;n;){if(n==e)return!0;n=b(n)}return!1}function b(e){var t=e.parentNode;return t&&11==t.nodeType&&t.host?t.host:t}"IntersectionObserver"in x&&"IntersectionObserverEntry"in x&&"intersectionRatio"in x.IntersectionObserverEntry.prototype?"isIntersecting"in x.IntersectionObserverEntry.prototype||Object.defineProperty(x.IntersectionObserverEntry.prototype,"isIntersecting",{get:function(){return 0<this.intersectionRatio}}):(t=[],e.prototype.THROTTLE_TIMEOUT=100,e.prototype.POLL_INTERVAL=null,e.prototype.USE_MUTATION_OBSERVER=!0,e.prototype.observe=function(t){if(!this._observationTargets.some(function(e){return e.element==t})){if(!t||1!=t.nodeType)throw new Error("target must be an Element");this._registerInstance(),this._observationTargets.push({element:t,entry:null}),this._monitorIntersections(),this._checkForIntersections()}},e.prototype.unobserve=function(t){this._observationTargets=this._observationTargets.filter(function(e){return e.element!=t}),this._observationTargets.length||(this._unmonitorIntersections(),this._unregisterInstance())},e.prototype.disconnect=function(){this._observationTargets=[],this._unmonitorIntersections(),this._unregisterInstance()},e.prototype.takeRecords=function(){var e=this._queuedEntries.slice();return this._queuedEntries=[],e},e.prototype._initThresholds=function(e){var t=e||[0];return Array.isArray(t)||(t=[t]),t.sort().filter(function(e,t,n){if("number"!=typeof e||isNaN(e)||e<0||1<e)throw new Error("threshold must be a number between 0 and 1 inclusively");return e!==n[t-1]})},e.prototype._parseRootMargin=function(e){var t=(e||"0px").split(/\s+/).map(function(e){var t=/^(-?\d*\.?\d+)(px|%)$/.exec(e);if(!t)throw new Error("rootMargin must be specified in pixels or percent");return{value:parseFloat(t[1]),unit:t[2]}});return t[1]=t[1]||t[0],t[2]=t[2]||t[0],t[3]=t[3]||t[1],t},e.prototype._monitorIntersections=function(){this._monitoringIntersections||(this._monitoringIntersections=!0,this.POLL_INTERVAL?this._monitoringInterval=setInterval(this._checkForIntersections,this.POLL_INTERVAL):(n(x,"resize",this._checkForIntersections,!0),n(y,"scroll",this._checkForIntersections,!0),this.USE_MUTATION_OBSERVER&&"MutationObserver"in x&&(this._domObserver=new MutationObserver(this._checkForIntersections),this._domObserver.observe(y,{attributes:!0,childList:!0,characterData:!0,subtree:!0}))))},e.prototype._unmonitorIntersections=function(){this._monitoringIntersections&&(this._monitoringIntersections=!1,clearInterval(this._monitoringInterval),this._monitoringInterval=null,r(x,"resize",this._checkForIntersections,!0),r(y,"scroll",this._checkForIntersections,!0),this._domObserver&&(this._domObserver.disconnect(),this._domObserver=null))},e.prototype._checkForIntersections=function(){var s=this._rootIsInDom(),c=s?this._getRootRect():i();this._observationTargets.forEach(function(e){var t=e.element,n=g(t),r=this._rootContainsTarget(t),o=e.entry,i=s&&r&&this._computeTargetAndRootIntersection(t,c),a=e.entry=new l({time:x.performance&&performance.now&&performance.now(),target:t,boundingClientRect:n,rootBounds:c,intersectionRect:i});o?s&&r?this._hasCrossedThreshold(o,a)&&this._queuedEntries.push(a):o&&o.isIntersecting&&this._queuedEntries.push(a):this._queuedEntries.push(a)},this),this._queuedEntries.length&&this._callback(this.takeRecords(),this)},e.prototype._computeTargetAndRootIntersection=function(e,t){if("none"!=x.getComputedStyle(e).display){for(var n,r,o,i,a,s,c,l,p=g(e),u=b(e),d=!1;!d;){var f=null,h=1==u.nodeType?x.getComputedStyle(u):{};if("none"==h.display)return;if(u==this.root||u==y?(d=!0,f=t):u!=y.body&&u!=y.documentElement&&"visible"!=h.overflow&&(f=g(u)),f&&(n=f,r=p,0,o=Math.max(n.top,r.top),i=Math.min(n.bottom,r.bottom),a=Math.max(n.left,r.left),s=Math.min(n.right,r.right),l=i-o,!(p=0<=(c=s-a)&&0<=l&&{top:o,bottom:i,left:a,right:s,width:c,height:l})))break;u=b(u)}return p}},e.prototype._getRootRect=function(){var e,t,n;return n=this.root?g(this.root):(e=y.documentElement,t=y.body,{top:0,left:0,right:e.clientWidth||t.clientWidth,width:e.clientWidth||t.clientWidth,bottom:e.clientHeight||t.clientHeight,height:e.clientHeight||t.clientHeight}),this._expandRectByRootMargin(n)},e.prototype._expandRectByRootMargin=function(n){var e=this._rootMarginValues.map(function(e,t){return"px"==e.unit?e.value:e.value*(t%2?n.width:n.height)/100}),t={top:n.top-e[0],right:n.right+e[1],bottom:n.bottom+e[2],left:n.left-e[3]};return t.width=t.right-t.left,t.height=t.bottom-t.top,t},e.prototype._hasCrossedThreshold=function(e,t){var n=e&&e.isIntersecting?e.intersectionRatio||0:-1,r=t.isIntersecting?t.intersectionRatio||0:-1;if(n!==r)for(var o=0;o<this.thresholds.length;o++){var i=this.thresholds[o];if(i==n||i==r||i<n!=i<r)return!0}},e.prototype._rootIsInDom=function(){return!this.root||o(y,this.root)},e.prototype._rootContainsTarget=function(e){return o(this.root||y,e)},e.prototype._registerInstance=function(){t.indexOf(this)<0&&t.push(this)},e.prototype._unregisterInstance=function(){var e=t.indexOf(this);-1!=e&&t.splice(e,1)},x.IntersectionObserver=e,x.IntersectionObserverEntry=l)}(window,document),window.BOXX_CLIENT_ID="BOXX_CLIENT_ID"in window?window.BOXX_CLIENT_ID:parseInt("1358"),window.bxExportable=[],window.bxJsLogs=[],window.bxExporting=!1,window.bxEvExportManager={init:function(){this.seedExports(),this.validateData()},validateData:function(){},seedExports:function(){var e=localStorage.getObj("bxEventQ");e&&e.length&&(bxExportable=e)},push:function(e){Object.assign(e,{op:scrape_init.scrapePath,l:scrape_init.loaded,vid:scrape_init.bxpvid,st:(new Date).getTime()|| performance&&performance.now&&1e3*performance.now()}),localStorage.extendObj("bxEventQ",e),bxExportable.push(e)},slice:function(e){bxExportable=bxExportable.slice(e),localStorage.slice("bxEventQ",e)}},window.bxErrMan={loglevels:["log","collect","fail","warn","error"],errList:[],push:function(e,t){var n=JSON.stringify(e).hashCode();-1===bxErrMan.errList.indexOf(n)&&(bxErrMan.errList.push(n),bxLog("[BX ~ "+t.toUpperCase()+"] >>> ",e),0<bxErrMan.loglevels.indexOf(t)&&scrape_init.errorLogging&&bxJsLogs.push(Object.assign(e,{lvl:t})))}},window.bxSesMan="bxSesMan"in window?window.bxSesMan:{vars:{},init:function(){this.boot(),window.addEventListener("focus",function(){bxLog("*** Focus called ***"),bxSesMan.boot()})},boot:function(){bxSesMan.vars.bxSesT=cookieManager.getCookie("bxSesT")?cookieManager.getCookie("bxSesT"):Date.now(),cookieManager.setCookie("bxSesT",bxSesMan.vars.bxSesT,1/48),bxSesMan.setUserType(),cookieManager.setCookie("bxSesC",bxSesMan.vars.bxSesT,730),bxSesMan.setSegmentDetails()},setUserType:function(){var t=cookieManager.getCookie("bxSegDetail")||"{}",t=JSON.parse(t);Object.assign(bxSesMan.vars,t),e=cookieManager.getCookie("__stp");e?this.vars.userType=JSON.parse(e).visit||"new":cookieManager.getCookie("bxUserType")?this.vars.userType=cookieManager.getCookie("bxUserType"):(this.vars.userType=cookieManager.getCookie("bxSesC")||cookieManager.getCookie("boxx_token_id")?"returning":"new",cookieManager.setCookie("bxUserType",bxSesMan.vars.userType,1/48));this.vars.userRandom||(this.vars.userRandom=Math.random())},setSegmentDetails:function(e){e&&(e.prvMv&&(bxSesMan.vars.prvMv=e.prvMv),e.pubMv&&(bxSesMan.vars.pubMv=e.pubMv),e.expId&&(bxSesMan.vars.expId=e.expId),e.userSeg&&(bxSesMan.vars.userSeg=e.userSeg),e.modelSeg&&(bxSesMan.vars.modelSeg=e.modelSeg)),cookieManager.setCookie("bxSegDetail",JSON.stringify(bxSesMan.vars),730)}},bxSesMan.init();var boxxAutoTriggerConfig=[{"regex": "^/$", "regextra": "document.querySelector('.custom-menu-homepage')", "sampleUrl": "https://www.fahasa.com/", "triggerConfig": [], "name": "Home page", "maxWait": "2", "blacklist": false, "widgetConfig": [{"nOutof": "", "xLike": false, "xDislike": false, "onPageFilter": "", "dontRepeat": [], "exclude": "var getPs = function (x)  {        var p = [], r = document.querySelectorAll(x);       for (var l = 0; l < r.length; ++l)  {   p.push(r[l].getAttribute('id').split('-').pop())}                 return p.join() ;     };    getPs('#categorytab-gia-noi-bat [id^=product-price]'); ", "nDes": "5", "widgetId": "EYP0EK", "dont_repeat_transaction_types": null, "nOffset": "", "dListen": "", "likeable": false, "instance": "MSPYA5RL", "inject": "before", "dislikeable": false, "product": "undefined", "trackAs": "Home-Personalized-MaybeYouWillLike", "dEvent": "", "selector": "#categorytab-gia-noi-bat", "dCheck": "", "rectype": "boxx", "nMin": "5", "condition": "window.screen.width > 767", "name": "C\u00f3 th\u1ec3 b\u1ea1n s\u1ebd th\u00edch", "notes": "", "n": "30", "filter": "``discount= JSON.parse('{\\\"$gte\\\": 50}')``", "published": false}, {"nOutof": "", "xLike": false, "xDislike": false, "onPageFilter": "", "dontRepeat": [], "exclude": "", "nDes": "5", "widgetId": "M6OBEG", "dont_repeat_transaction_types": null, "nOffset": "", "dListen": "", "likeable": false, "instance": "IZ3W1J6Q", "inject": "before", "dislikeable": false, "product": "undefined", "trackAs": "Home-Personalized-MostBought", "dEvent": "", "selector": "#categorytab-gia-noi-bat", "dCheck": "", "rectype": "best_seller", "nMin": "5", "condition": "window.screen.width > 767", "name": "\u0110\u01b0\u1ee3c mua nhi\u1ec1u nh\u1ea5t", "notes": "", "n": "30", "filter": "", "published": false}, {"nOutof": "", "xLike": false, "xDislike": false, "onPageFilter": "", "dontRepeat": [], "exclude": "var getPs = function (x)  {        var p = [], r = document.querySelectorAll(x);       for (var l = 0; l < r.length; ++l)  {   p.push(r[l].getAttribute('id').split('-').pop())}                 return p.join() ;     };    getPs('.container-mobile-gia-noi-bat [id^=product-price]'); ", "nDes": "5", "widgetId": "EYP0EK", "dont_repeat_transaction_types": null, "nOffset": "", "dListen": "", "likeable": false, "instance": "WF0VJ2T5", "inject": "before", "dislikeable": false, "product": "undefined", "trackAs": "Home-Personalized-MaybeYouWillLike", "dEvent": "", "selector": ".container-mobile-gia-noi-bat", "dCheck": "", "rectype": "boxx", "nMin": "5", "condition": "window.screen.width < 768", "name": "C\u00f3 th\u1ec3 b\u1ea1n s\u1ebd th\u00edch", "notes": "", "n": "30", "filter": "``discount= JSON.parse('{\\\"$gte\\\": 50}')``", "published": false}, {"nOutof": "", "xLike": false, "xDislike": false, "onPageFilter": "", "dontRepeat": [], "exclude": "", "nDes": "5", "widgetId": "M6OBEG", "dont_repeat_transaction_types": null, "nOffset": "", "dListen": "", "likeable": false, "instance": "SAHV7XOQ", "inject": "before", "dislikeable": false, "product": "undefined", "trackAs": "Home-Personalized-MostBought", "dEvent": "", "selector": ".container-mobile-gia-noi-bat", "dCheck": "", "rectype": "best_seller", "nMin": "5", "condition": "window.screen.width < 768", "name": "\u0110\u01b0\u1ee3c mua nhi\u1ec1u nh\u1ea5t", "notes": "", "n": "30", "filter": "", "published": false}], "suspectConfig": [], "contextConfig": {}, "maxRetries": "0", "trackConfig": [{"widget": "Home-Standard-FahasaDeals", "parser": "this.getAttribute('id').split('-').pop()", "block": "#categorytab-gia-noi-bat .item-inner, .container-mobile-gia-noi-bat .item-inner", "selector": "[id^=product-price]"}, {"widget": "Home-Standard-MuaSamMuaKhaiTruong", "parser": "this.getAttribute('id').split('-').pop()", "block": "#categorytab-caphs .item", "selector": "[id^=product-price]"}, {"widget": "Home-Standard-SachGiaoKhoaCacCap", "parser": "this.getAttribute('id').split('-').pop()", "block": "#categorytab-lop1sgk .item", "selector": "[id^=product-price]"}, {"widget": "Home-Standard-GocSachHayDanhChoBe", "parser": "this.getAttribute('id').split('-').pop()", "block": "#categorytab-comboktgiatot .item", "selector": "[id^=product-price]"}, {"widget": "Home-Standard-SanPhamAnToan", "parser": "this.getAttribute('id').split('-').pop()", "block": "div > #categorytab-chong-dich:nth-child(1) .item", "selector": "[id^=product-price]"}, {"widget": "Home-Standard-HangTieuDung", "parser": "this.getAttribute('id').split('-').pop()", "block": "div > #categorytab-chong-dich:nth-child(4) .item", "selector": "[id^=product-price]"}, {"widget": "Home-Standard-BestBooksOfCurrenMonth", "parser": "this.getAttribute('id').split('-').pop()", "block": "#categorytab-highly-recommendation .product-col, .container-mobile-highly-recommendation .item", "selector": "[id^=product-price]"}, {"widget": "Home-Standard-ThieuNhi", "parser": "this.getAttribute('id').split('-').pop()", "block": "#categorytab-block-nuoi-day-con .product-col", "selector": "[id^=product-price]"}, {"widget": "Home-Standard-VppNoiBat", "parser": "this.getAttribute('id').split('-').pop()", "block": "#categorytab-block-deal-of-vpp .product-col, .container-mobile-block-deal-of-vpp .item", "selector": "[id^=product-price]"}, {"widget": "Home-Standard-VanHoc", "parser": "this.getAttribute('id').split('-').pop()", "block": "#categorytab-block-van-hoc .product-col, .container-mobile-block-van-hoc .item", "selector": "[id^=product-price]"}, {"widget": "Home-Standard-KinhTe", "parser": "this.getAttribute('id').split('-').pop()", "block": "#categorytab-block-kinh-te .product-col, .container-mobile-block-kinh-te .item", "selector": "[id^=product-price]"}, {"widget": "Home-Standard-TamLy-KyNang", "parser": "this.getAttribute('id').split('-').pop()", "block": "#categorytab-block-tam-ly .product-col, .container-mobile-block-tam-ly .item", "selector": "[id^=product-price]"}, {"widget": "Home-Standard-\u0110oChoi", "parser": "this.getAttribute('id').split('-').pop()", "block": "#categorytab-hpblock-do-choi .product-col, .container-mobile-hpblock-do-choi .item", "selector": "[id^=product-price]"}, {"widget": "Home-Standard-BangXepHangFahasa", "parser": "this.getAttribute('id').match(/\\d+/g).toString()", "block": "#block-fhs-vote .product-item2-container", "selector": ".product-item2"}], "popupConfig": [{"xLike": false, "likeable": false, "dontRepeat": [], "exclude": "", "event": "mouseleave", "widgetId": "0FUDJ5", "xDislike": false, "delay": "", "instance": "ZHBUT7XC", "condition": "window.screen.width > 767", "listen": "body", "product": "undefined", "trackAs": "PopUp-Personalized-CuratedCollections", "dislikeable": false, "nDes": "5", "rectype": "boxx", "nMin": "5", "name": "B\u1ea1n c\u00f3 b\u1ed9 s\u01b0u t\u1eadp t\u1ea1i Fahasa", "n": "", "filter": "``discount=JSON.parse('{\\\"$exists\\\": true}')``", "callback": "e.offsetY - window.scrollY < 0", "published": false}]}, {"regex": "^/[\\w-_]+", "regextra": "document.querySelector('#products_grid')", "sampleUrl": "https://www.fahasa.com/van-phong-pham/but/but-gel-but-nu-c/sort-by/created_at/sort-direction/asc.html", "triggerConfig": [], "name": "PLP", "maxWait": "0", "blacklist": false, "widgetConfig": [{"nOutof": "12", "xLike": false, "xDislike": false, "onPageFilter": "", "dontRepeat": [], "exclude": "var getPs = function (x)  {        var p = [], r = document.querySelectorAll(x);      var excludeSize = Math.min(12,r.length);      for (var l = 0; l < excludeSize; ++l)  {   p.push(r[l].getAttribute('id').split('-').pop())}                 return p.join() ;     };    getPs('#products_grid [id^=product-price]'); ", "nDes": "4", "widgetId": "7MTWLF", "dont_repeat_transaction_types": null, "nOffset": "8", "dListen": "", "likeable": false, "instance": "KOX08D6W", "inject": "before", "dislikeable": false, "product": "undefined", "trackAs": "PLP-Personalized-Recommendations", "dEvent": "", "selector": "#products_grid > :nth-child(9)", "dCheck": "", "rectype": "boxx", "nMin": "4", "condition": "window.screen.width > 768", "name": "PLP Widget(5th row)", "notes": "", "n": "30", "filter": "``category=[document.querySelector('.breadcrumb > :nth-child(2) > a').innerHTML.trim()]<|>sub-category=[document.querySelector('.breadcrumb > :nth-child(3) > a').innerHTML.trim()]<|>sub-sub-category=[document.querySelector('.breadcrumb > :nth-child(4) > *').innerHTML.trim()]``", "published": false}, {"nOutof": "8", "xLike": false, "xDislike": false, "onPageFilter": "", "dontRepeat": [], "exclude": "var getPs = function (x)  {        var p = [], r = document.querySelectorAll(x);      var excludeSize = Math.min(12,r.length);      for (var l = 0; l < excludeSize; ++l)  {   p.push(r[l].getAttribute('id').split('-').pop())}                 return p.join() ;     };    getPs('#products_grid [id^=product-price]'); ", "nDes": "4", "widgetId": "7MTWLF", "dont_repeat_transaction_types": null, "nOffset": "4", "dListen": "", "likeable": false, "instance": "3Q158VWZ", "inject": "before", "dislikeable": false, "product": "undefined", "trackAs": "PLP-Personalized-Recommendations", "dEvent": "", "selector": "#products_grid > :nth-child(5)", "dCheck": "", "rectype": "boxx", "nMin": "4", "condition": "window.screen.width > 768", "name": "PLP Widget(3rd row)", "notes": "", "n": "30", "filter": "``category=[document.querySelector('.breadcrumb > :nth-child(2) > a').innerHTML.trim()]<|>sub-category=[document.querySelector('.breadcrumb > :nth-child(3) > a').innerHTML.trim()]<|>sub-sub-category=[document.querySelector('.breadcrumb > :nth-child(4) > *').innerHTML.trim()]``", "published": false}, {"nOutof": "", "xLike": false, "xDislike": false, "onPageFilter": "", "dontRepeat": [], "exclude": "var getPs = function (x)  {        var p = [], r = document.querySelectorAll(x);      var excludeSize = Math.min(12,r.length);      for (var l = 0; l < excludeSize; ++l)  {   p.push(r[l].getAttribute('id').split('-').pop())}                 return p.join() ;     };    getPs('#products_grid [id^=product-price]'); ", "nDes": "4", "widgetId": "7MTWLF", "dont_repeat_transaction_types": null, "nOffset": "", "dListen": "", "likeable": false, "instance": "005IJ404", "inject": "before", "dislikeable": false, "product": "undefined", "trackAs": "PLP-Personalized-Recommendations", "dEvent": "", "selector": "#products_grid > :nth-child(1)", "dCheck": "", "rectype": "boxx", "nMin": "4", "condition": "window.screen.width > 768", "name": "PLP Widget(1st row)", "notes": "", "n": "30", "filter": "``category=[document.querySelector('.breadcrumb > :nth-child(2) > a').innerHTML.trim()]<|>sub-category=[document.querySelector('.breadcrumb > :nth-child(3) > a').innerHTML.trim()]<|>sub-sub-category=[document.querySelector('.breadcrumb > :nth-child(4) > *').innerHTML.trim()]``", "published": false}, {"nOutof": "6", "xLike": false, "xDislike": false, "onPageFilter": "", "dontRepeat": [], "exclude": "", "nDes": "2", "widgetId": "7MTWLF", "dont_repeat_transaction_types": null, "nOffset": "4", "dListen": "", "likeable": false, "instance": "MKNEPPNT", "inject": "after", "dislikeable": false, "product": "undefined", "trackAs": "PLP-Personalized-Recommendations", "dEvent": "", "selector": "#products_grid > :nth-child(4)", "dCheck": "", "rectype": "boxx", "nMin": "2", "condition": "window.screen.width < 768", "name": "PLP Widget(5th row)", "notes": "", "n": "30", "filter": "``category=[document.querySelector('.breadcrumb > :nth-child(2) > a').innerHTML.trim()]<|>sub-category=[document.querySelector('.breadcrumb > :nth-child(3) > a').innerHTML.trim()]<|>sub-sub-category=[document.querySelector('.breadcrumb > :nth-child(4) > *').innerHTML.trim()]``", "published": false}], "suspectConfig": [], "contextConfig": {}, "maxRetries": "0", "trackConfig": [{"widget": "PLP-Standard-Recommendations", "parser": "this.getAttribute('id').split('-').pop()", "block": ".category-products li:not([data-recoedproduct])", "selector": "[id^=product-price]"}], "scrapeConfig": {"productBlock": "#products_grid > li", "condition": "window.screen.width > 768", "props": {"category": {"parser": "[document.querySelector('.breadcrumb > :nth-child(2)').innerText.trim()]", "selector": "a"}, "name": {"parser": "this.innerText", "selector": ".product-name.p-name-list>a"}, "sub-sub-category": {"parser": "[document.querySelector('.breadcrumb > :nth-child(4)').innerText.trim()]", "selector": "a"}, "mrp": {"parser": "this.innerText", "selector": ".old-price"}, "msp": {"parser": "this.innerText", "selector": ".special-price"}, "product_url": {"parser": "this.href", "selector": ".product.images-container>a"}, "discount": {"parser": "this.innerText", "selector": ".discount-l-fs"}, "image_url": {"parser": "this.src", "selector": ".product-image>img"}, "sub-category": {"parser": "[document.querySelector('.breadcrumb > :nth-child(3)').innerText.trim()]", "selector": "a"}, "productid": {"parser": "this.id.split('-').slice(-1)[0]", "selector": ".price-box>span"}}}, "popupConfig": [{"xLike": false, "likeable": false, "dontRepeat": [], "exclude": "", "event": "mouseleave", "widgetId": "0FUDJ5", "xDislike": false, "delay": "", "instance": "NJEJT10T", "condition": "window.screen.width > 767", "listen": "body", "product": "undefined", "trackAs": "PopUp-Personalized-CuratedCollections", "dislikeable": false, "nDes": "5", "rectype": "boxx", "nMin": "5", "name": "B\u1ea1n c\u00f3 b\u1ed9 s\u01b0u t\u1eadp t\u1ea1i Fahasa", "n": "", "filter": "``discount=JSON.parse('{\\\"$exists\\\": true}')``", "callback": "e.offsetY - window.scrollY < 0", "published": false}]}, {"regex": "/best-seller", "regextra": "", "sampleUrl": "https://www.fahasa.com/best-seller", "triggerConfig": [], "name": "Best sellers", "maxWait": "0", "widgetConfig": [{"nOutof": "", "xLike": true, "xDislike": true, "onPageFilter": "", "dontRepeat": [], "exclude": "", "nDes": "40", "widgetId": "UAP4BE", "dont_repeat_transaction_types": null, "nOffset": "", "dListen": "", "likeable": true, "instance": "TS5XG5BF", "inject": "before", "dislikeable": true, "product": "undefined", "trackAs": "Boutique-Personalized-BestSellers", "dEvent": "", "selector": ".block-link-follow > .container > .container-inner", "dCheck": "", "rectype": "best_seller", "nMin": "10", "condition": "window.screen.width > 767", "name": "B\u00c1N CH\u1ea0Y NH\u1ea4T", "notes": "", "n": "30", "filter": "", "published": false}], "suspectConfig": [], "contextConfig": {}, "maxRetries": "0", "trackConfig": [], "popupConfig": []}, {"regex": "/success/", "regextra": "", "sampleUrl": "https://fahasa.com/checkout/onepage/success/", "triggerConfig": [{"product": "BOXX_PURCHASED_PRODUCT_IDS.toString()", "trigger_type": "auto", "trigger_element_selector": "", "interaction_type": "purchase", "props": "", "smtOnly": false}], "name": "Thankyou", "maxWait": "0", "blacklist": true, "widgetConfig": [], "suspectConfig": [], "contextConfig": {}, "maxRetries": "0", "trackConfig": [], "popupConfig": []}, {"regex": "^/[\\w-_]+", "regextra": "document.querySelector('.product-view')", "sampleUrl": "https://www.fahasa.com/nha-gia-kim-tai-ban-2017.html", "triggerConfig": [{"product": "productId", "trigger_type": "auto", "trigger_element_selector": "", "interaction_type": "view", "props": "", "smtOnly": false}, {"product": "productId", "trigger_type": "click", "trigger_element_selector": ".btn-cart-to-cart", "interaction_type": "add_to_cart", "props": "", "smtOnly": false}, {"product": "productId", "trigger_type": "click", "trigger_element_selector": ".btn-buy-now", "interaction_type": "add_to_cart", "props": "", "smtOnly": false}, {"product": "productId", "trigger_type": "click", "trigger_element_selector": ".link-wishlist-icon", "interaction_type": "add_to_fav", "props": "", "smtOnly": false}], "name": "PDP", "maxWait": "0", "blacklist": false, "widgetConfig": [{"nOutof": "", "xLike": false, "xDislike": false, "onPageFilter": "", "dontRepeat": [], "exclude": "var getPs = function (x)  {        var p = [], r = document.querySelectorAll(x);       for (var l = 0; l < 5; ++l)  {   p.push(r[l].getAttribute('id').split('-').pop())}                 return p.join() ;     };    getPs('#categorytab-recommendated-products [id^=product-price], #categorytab-related-products [id^=product-price]'); ", "nDes": "5", "widgetId": "PGBU02", "dont_repeat_transaction_types": null, "nOffset": "", "dListen": "", "likeable": false, "instance": "RQMJLHQ1", "inject": "after", "dislikeable": false, "product": "productId", "trackAs": "PDP-Personalized-MaybeYouWantToSee", "dEvent": "", "selector": ".content", "dCheck": "", "rectype": "boxx", "nMin": "5", "condition": "window.screen.width > 768", "name": "C\u00f3 th\u1ec3 b\u1ea1n mu\u1ed1n xem", "notes": "#categorytab-recommendated-products", "n": "30", "filter": "``{{ product.category }}``", "published": false}, {"nOutof": "", "xLike": false, "xDislike": false, "onPageFilter": "", "dontRepeat": [], "exclude": "var getPs = function (x)  {        var p = [], r = document.querySelectorAll(x);       for (var l = 0; l < 5; ++l)  {   p.push(r[l].getAttribute('id').split('-').pop())}                 return p.join() ;     };    getPs('#categorytab-recommendated-products [id^=product-price], #categorytab-related-products [id^=product-price]'); ", "nDes": "5", "widgetId": "PGBU02", "dont_repeat_transaction_types": null, "nOffset": "", "dListen": "", "likeable": false, "instance": "4SDNNUC9", "inject": "after", "dislikeable": false, "product": "productId", "trackAs": "PDP-Personalized-Suggestions", "dEvent": "", "selector": ".content", "dCheck": "", "rectype": "boxx", "nMin": "5", "condition": "window.screen.width > 767", "name": "G\u1ee3i \u00fd", "notes": "", "n": "30", "filter": "``{{ product.category }}<|>{{ product.sub-category }}<|>{{ product.sub-sub-category }}``", "published": false}, {"nOutof": "", "xLike": false, "xDislike": false, "onPageFilter": "", "dontRepeat": [], "exclude": "var getPs = function (x)  {        var p = [], r = document.querySelectorAll(x);       for (var l = 0; l < 5; ++l)  {   p.push(r[l].getAttribute('id').split('-').pop())}                 return p.join() ;     };    getPs('#categorytab-recommendated-products [id^=product-price], #categorytab-related-products [id^=product-price]'); ", "nDes": "5", "widgetId": "PGBU02", "dont_repeat_transaction_types": null, "nOffset": "", "dListen": "", "likeable": false, "instance": "XIFO5FYF", "inject": "after", "dislikeable": false, "product": "productId", "trackAs": "PDP-Personalized-MaybeYouWantToSee", "dEvent": "", "selector": ".content", "dCheck": "", "rectype": "boxx", "nMin": "5", "condition": "window.screen.width < 768", "name": "C\u00f3 th\u1ec3 b\u1ea1n mu\u1ed1n xem", "notes": "", "n": "30", "filter": "``{{ product.category }}``", "published": false}, {"nOutof": "", "xLike": false, "xDislike": false, "onPageFilter": "", "dontRepeat": [], "exclude": "var getPs = function (x)  {        var p = [], r = document.querySelectorAll(x);       for (var l = 0; l < 5; ++l)  {   p.push(r[l].getAttribute('id').split('-').pop())}                 return p.join() ;     };    getPs('#categorytab-recommendated-products [id^=product-price], #categorytab-related-products [id^=product-price]'); ", "nDes": "5", "widgetId": "PGBU02", "dont_repeat_transaction_types": null, "nOffset": "", "dListen": "", "likeable": false, "instance": "CAT28WT7", "inject": "after", "dislikeable": false, "product": "productId", "trackAs": "PDP-Personalized-Suggestions", "dEvent": "", "selector": ".content", "dCheck": "", "rectype": "boxx", "nMin": "5", "condition": "window.screen.width < 768", "name": "G\u1ee3i \u00fd", "notes": "", "n": "30", "filter": "``{{ product.category }}<|>{{ product.sub-category }}<|>{{ product.sub-sub-category }}``", "published": false}], "suspectConfig": [], "contextConfig": {}, "maxRetries": "0", "trackConfig": [{"widget": "PDP-Standard-S\u1ea3nPh\u1ea9mLi\u00eanQuan", "parser": "this.getAttribute('id').split('-').pop()", "block": "#categorytab-recommendated-products .item, .container-mobile-recommendated-products .item", "selector": "[id^=product-price]"}, {"widget": "PDP-Standard-C\u00f3Th\u1ec3B\u1ea1nQuanT\u00e2m", "parser": "this.getAttribute('id').split('-').pop()", "block": "#categorytab-related-products .item.nowhere", "selector": "[id^=product-price]"}, {"widget": "PDP-Standard-S\u1ea3nPh\u1ea9mC\u00f9ngLo\u1ea1i", "parser": "this.getAttribute('id').split('-').pop()", "block": "#categorytab-related-products .item, #tabrelated-products-related-products .item", "selector": "[id^=product-price]"}], "popupConfig": [{"xLike": false, "likeable": false, "dontRepeat": [], "exclude": "", "event": "mouseleave", "widgetId": "0FUDJ5", "xDislike": false, "delay": "", "instance": "BHVLTHRQ", "condition": "window.screen.width > 767", "listen": "body", "product": "undefined", "trackAs": "PopUp-Personalized-CuratedCollections", "dislikeable": false, "nDes": "5", "rectype": "boxx", "nMin": "5", "name": "B\u1ea1n c\u00f3 b\u1ed9 s\u01b0u t\u1eadp t\u1ea1i Fahasa", "n": "", "filter": "``discount=JSON.parse('{\\\"$exists\\\": true}')``", "callback": "e.offsetY - window.scrollY < 0", "published": false}]}, {"regex": "/delete/", "regextra": "", "sampleUrl": "https://www.fahasa.com/checkout/onepage/success/", "triggerConfig": [], "name": "delete", "maxWait": "0", "blacklist": true, "widgetConfig": [], "suspectConfig": [], "contextConfig": {}, "maxRetries": "0", "trackConfig": [], "popupConfig": []}],boxxPages=[{"destroy": "", "widgetConfig": [{"xLike": false, "xDislike": false, "dontRepeat": ["disliked", "liked"], "exclude": "", "nDes": "50", "widgetId": "JPU0IC", "dont_repeat_transaction_types": null, "dListen": "", "likeable": false, "instance": "MGW4QM9N", "inject": "before", "dislikeable": false, "product": "undefined", "trackAs": "PersonalBoutique-Personalized-Discover", "dEvent": "", "selector": ".block-link-follow", "nMin": "5", "dCheck": "", "rectype": "boxx", "condition": "window.screen.width > 768", "name": "Kh\u00e1m ph\u00e1", "notes": "", "n": "30", "filter": "", "published": false}, {"xLike": false, "xDislike": false, "dontRepeat": [], "exclude": "", "nDes": "50", "widgetId": "JPU0IC", "dont_repeat_transaction_types": null, "dListen": "", "likeable": false, "instance": "J7CCHOYT", "inject": "before", "dislikeable": false, "product": "undefined", "trackAs": "PersonalBoutique-Personalized-Discover", "dEvent": "", "selector": ".block-link-follow", "nMin": "5", "dCheck": "", "rectype": "boxx", "condition": "window.screen.width < 768", "name": "Kh\u00e1m ph\u00e1", "notes": "", "n": "30", "filter": "", "published": false}], "pageUrl": "/personalization", "name": "Personal boutique"}, {"destroy": "", "widgetConfig": [{"xLike": false, "xDislike": false, "dontRepeat": [], "exclude": "", "nDes": "20", "widgetId": "UAP4BE", "dont_repeat_transaction_types": null, "dListen": "", "likeable": false, "instance": "8XZAQI25", "inject": "before", "dislikeable": false, "product": "undefined", "trackAs": "LikedPage-Personalized-YouHaveLiked", "dEvent": "", "selector": ".block-link-follow", "nMin": "1", "dCheck": "", "rectype": "liked", "condition": "window.screen.width > 768", "name": "B\u1ea1n \u0111\u00e3 th\u00edch", "notes": "", "n": "30", "filter": "", "published": false}, {"xLike": false, "xDislike": false, "dontRepeat": [], "exclude": "", "nDes": "20", "widgetId": "UAP4BE", "dont_repeat_transaction_types": null, "dListen": "", "likeable": false, "instance": "WFI3GO5Q", "inject": "before", "dislikeable": false, "product": "undefined", "trackAs": "LikedPage-Personalized-YouHaveLiked", "dEvent": "", "selector": ".block-link-follow", "nMin": "1", "dCheck": "", "rectype": "liked", "condition": "window.screen.width < 768", "name": "B\u1ea1n \u0111\u00e3 th\u00edch", "notes": "", "n": "30", "filter": "", "published": false}], "pageUrl": "/likedproducts", "name": "liked page"}],scrape_init={"locale": "", "menuItems": [{"injectSelector": "#header.nowhere", "menuItemContent": "<div class=\"boutique\" style=\"position: fixed;     z-index: 999;     right: -19px;     transform: rotate(90deg) translateY(-65%);     top: 65%; \">   <a href=\"/personalization\" style=\"color: #fff; background: #f58220; padding: 12px 20px;\">Kh\u00e1m ph\u00e1</a> </div>", "injectType": "after", "menuItemCondition": "bxSesMan.vars.pubMv == \"boxx\"", "published": false, "itemName": "Personal Boutique"}, {"injectSelector": "#header.nowhere", "menuItemContent": "<div class=\"boutique\" style=\"position: fixed;     z-index: 999;     right: -19px;     transform: rotate(90deg) translateY(-65%);     top: 65%; \"><a href=\"/likedproducts\"  class=\"likeicon\" style=\"    color: #fff;     background: #f58220;     padding: 5px 10px;\" target=\"_blank\">      <span class=\"like-button\">B\u1ea1n \u0111\u00e3 th\u00edch</span>   </a> </div>", "injectType": "after", "menuItemCondition": "bxSesMan.vars.pubMv == \"boxx\"", "published": false, "itemName": "Like Icon"}, {"injectSelector": ".fhs-asidebar-tab-items > li:nth-child(1)", "menuItemContent": "<li class=\"productviewed tm-bb-btn\" style=\"margin-top: 5px; height: 147px;\">     <span class=\"icon\" style=\"    transform: rotate(90deg); margin-right: 5px;\"><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24.496\" height=\"24.494\" viewBox=\"0 0 24.496 24.494\">   <path id=\"store\" d=\"M22.8,13.6v8.448a2,2,0,0,1-2,2H3.2a2,2,0,0,1-2-2V13.6a.4.4,0,0,1,.8,0v8.448a1.2,1.2,0,0,0,1.2,1.2H7.549V16.5a2,2,0,0,1,2-2h4.9a2,2,0,0,1,2,2v5.149a.4.4,0,1,1-.8,0V16.5a1.2,1.2,0,0,0-1.2-1.2h-4.9a1.2,1.2,0,0,0-1.2,1.2v6.748H11.6v-6.3a.4.4,0,1,1,.8,0v6.3h8.4a1.2,1.2,0,0,0,1.2-1.2V13.6a.4.4,0,1,1,.8,0ZM2.6,6.455a.4.4,0,0,0,.4.4c21.758,0,20.68.039,20.839-.083a.4.4,0,0,0,.152-.262c.022-.161.166.234-2.628-6.213A.4.4,0,0,0,21,.056H3A.4.4,0,0,0,2.633.3l-2.6,6A13.581,13.581,0,0,0,0,8.936a3.3,3.3,0,0,0,6.2,1.571,3.3,3.3,0,0,0,5.8,0,3.3,3.3,0,0,0,5.8,0A3.3,3.3,0,0,0,24,8.935a.4.4,0,0,0-.8,0,2.5,2.5,0,1,1-5,0,.4.4,0,1,0-.8,0,2.5,2.5,0,1,1-5,0,.4.4,0,1,0-.8,0,2.5,2.5,0,1,1-5-.02.4.4,0,1,0-.8,0,2.5,2.5,0,1,1-5,.02v-2.4L3.263.856H20.734l2.253,5.2H3a.4.4,0,0,0-.4.4Z\" transform=\"translate(0.25 0.194)\" fill=\"#fff\" stroke=\"#fff\" stroke-width=\"0.5\"/> </svg></span>     <span class=\"title\">Kh\u00e1m ph\u00e1</span><a href=\"/personalization\" style=\"color: #fff;     position: absolute;     top: 0;     left: 0;     width: 100%;     height: 100%;\"></a> </li>", "injectType": "after", "menuItemCondition": "bxSesMan.vars.pubMv == \"boxx\"", "published": false, "itemName": "Personal Boutique"}, {"injectSelector": ".fhs-asidebar-tab-items > li:nth-child(1)", "menuItemContent": "<li class=\"productviewed tm-bb-btn\" style=\"margin-top: 5px; height: auto;\"> <span class=\"icon\" style=\"transform: rotate(90deg); margin-right: 5px;\"><svg style=\"    width: 20px;     height: auto;\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" aria-hidden=\"true\" focusable=\"false\" width=\"1em\" height=\"1em\" style=\"-ms-transform: rotate(360deg); -webkit-transform: rotate(360deg); transform: rotate(360deg);\" preserveAspectRatio=\"xMidYMid meet\" viewBox=\"0 0 512 512\"><path fill=\"#fff\" d=\"M453.122 79.012a128 128 0 0 0-181.087.068l-15.511 15.7l-15.382-15.666l-.1-.1a128 128 0 0 0-181.02 0l-6.91 6.91a128 128 0 0 0 0 181.019l182.373 182.371l20.595 21.578l.491-.492l.533.533l19.296-20.359L460.032 266.94a128.147 128.147 0 0 0 0-181.019zM437.4 244.313L256.571 425.146L75.738 244.313a96 96 0 0 1 0-135.764l6.911-6.91a96 96 0 0 1 135.713-.051l38.093 38.787l38.274-38.736a96 96 0 0 1 135.765 0l6.91 6.909a96.11 96.11 0 0 1-.004 135.765z\"/></svg></span>        <span class=\"title\">B\u1ea1n \u0111\u00e3 th\u00edch</span><a href=\"/likedproducts\" style=\"color: #fff;     position: absolute;     top: 0;     left: 0;     width: 100%;     height: 100%;\"> </a></li>", "injectType": "after", "menuItemCondition": "bxSesMan.vars.pubMv == \"boxx\"", "published": false, "itemName": "Like Icon"}], "sJsVersion": "16", "parserVersion": "v1", "enableGA": false, "useItemProps": false, "includeQs": false, "reloadOnHashChange": false, "loadDelay": 0, "suspects": [], "errorLogging": true, "batchSize": 30, "scrape": false, "scrapeInterval": 4, "dispatchSmartech": false, "globalJs": "", "lJsVersion": "16", "requiredFields": false, "scrapeDelay": 3, "localization": false, "activeFor": 400, "checkDelay": 0, "queryString": false, "contextVars": {}, "fbTriggers": false, "requiredFieldList": ["name", "productid", "url", "image"], "gaTriggers": false, "globalCss": ".productviewed.tm-bb-btn{ display: none; }\t#like-icon-mob { \tdisplay: inline-block; \tposition: fixed; \tbottom: 121px; \tright: -1px; \tz-index: 9; \tborder: 2px solid #000000; \tbackground: #404040; \twidth: 26px; \ttext-align: center; }  #like-icon-mob a.like-icon:before { \tcontent: url(https://api.iconify.design/ant-design:heart-fill.svg?color=%23acacac&height=25); \tvertical-align: middle; \tmargin-left: 0px; \tline-height: 1; \tfont-size: 20px; \tmargin-top: 3px; }  .bxlikeablebtnlink, .bxdislikeablebtnlink { \tdisplay: none; }  .bxbotiqueactions { \ttext-align: center; }  .bxlikeable .bxlikeablebtnlink, .bxdislikeable .bxdislikeablebtnlink { \tdisplay: inline-block; \twidth: 25px; \ttext-align: center; }  .bxlikeablebtn, .bxdislikeablebtn { \tbackground-color: #a2a2a2; \tdisplay: inline-block; \theight: 40px; \tmargin: 0 10px; \tposition: relative; \ttop: 1px; \tfont: normal normal normal 14px/1 FontAwesome; }  .bxbotiqueactions>* { \tposition: relative; \ttop: 2px; \tz-index: 1; \tmargin-bottom: 20px; }  a.bxlikeablebtnlink { \tright: 0px; }  a.bxdislikeablebtnlink { \tleft: 1px; }  a.bxlikeablebtnlink:hover { \tcursor: pointer; }  a.bxdislikeablebtnlink:hover { \tcursor: pointer; }  .bxlikeablebtn:before { \tcontent: ''; \tbackground: url(https://api.iconify.design/subway:like.svg?color=%23c9c9c9&height=16) no-repeat center center; \tposition: absolute; \tfont-size: 23px; \ttop: 20px; \tleft: -30px; \tfont-family: 'icons-blank-theme'; \tright: 0; \twidth: 30px; \theight: 30px; \tborder-radius: 50%; \tbackground-color: #ffffff; \tbox-shadow: 0px 0px 6px 1px #bababa; \tcursor: pointer; \tcolor: #575757; \tline-height: 1.6; }  .bxlikeablebtn.bxliked:before { \tcolor: red; }  .bxdislikeablebtn:before { \tcontent: ''; \tbackground: url('https://api.iconify.design/subway:unlike.svg?color=%23c9c9c9&height=16') no-repeat center center; \tposition: absolute; \tborder-radius: 50%; \tfont-family: 'icons-blank-theme'; \twidth: 16px; \ttop: 20px; \tleft: -5px; \tfont-size: 22px; \tbackground-color: #ffffff; \tbox-shadow: 0px 0px 6px 1px #bababa; \twidth: 30px; \theight: 30px; \tcursor: pointer; \tcolor: #575757; \tline-height: 1.6; }  .bxdislikeablebtn.bxdisliked:before { \tcolor: red; }  .bxlikeablebtn.bxliked, .bxlikeablebtn.bxliked:before, .bxlikeablebtn.bxliked:after { \tcolor: red; }  .bxdislikeablebtn.bxdisliked, .bxdislikeablebtn.bxdisliked:before, .bxdislikeablebtn.bxdisliked:after { \tcolor: #ff514c; }  [data-recoedproduct] { \tposition: relative !important; }  @supports (-ms-ime-align:auto) { \t.bxlikeablebtn:before { \t\tcontent: ''; \t\tbackground: url('https://api.iconify.design/subway:like.svg?color=%23c9c9c9&height=16') no-repeat center center; \t\tposition: absolute; \t\tfont-size: 23px; \t\ttop: 0px; \t\tleft: -11px; \t\tfont-family: 'icons-blank-theme'; \t\tright: 0; \t\twidth: 22px; \t\theight: 22px; \t\tborder-radius: 50%; \t\tbackground-color: #ffffff; \t\tbox-shadow: 0px 0px 6px 1px #bababa; \t\tcursor: pointer; \t\tcolor: #575757; \t} \t.bxlikeablebtn.bxliked:before { \t\tcolor: red; \t} \t.bxdislikeablebtn:before { \t\tcontent: ''; \t\tbackground: url('https://api.iconify.design/subway:unlike.svg?color=%23c9c9c9&height=16') no-repeat center center; \t\tposition: absolute; \t\tborder-radius: 50%; \t\tfont-family: 'icons-blank-theme'; \t\twidth: 16px; \t\ttop: 0px; \t\tleft: -11px; \t\tfont-size: 22px; \t\tbackground-color: #ffffff; \t\tbox-shadow: 0px 0px 6px 1px #bababa; \t\twidth: 22px; \t\theight: 22px; \t\tcursor: pointer; \t\tcolor: #575757; \t} \t.bxdislikeablebtn.bxdisliked:before { \t\tcolor: red; \t} \t.bxlikeablebtn.bxliked, \t.bxlikeablebtn.bxliked:before, \t.bxlikeablebtn.bxliked:after { \t\tcolor: red; \t} \t.bxdislikeablebtn.bxdisliked, \t.bxdislikeablebtn.bxdisliked:before, \t.bxdislikeablebtn.bxdisliked:after { \t\tcolor: #ff514c; \t} \t[data-recoedproduct] { \t\tposition: relative !important; \t}", "aliasFields": [""], "queryStringSuffix": "`url=|=window.location.href.split('&')[2]`", "context": "False", "reloadOnPopState": false, "componentLoads": false, "sendToGA": false},boxxSmartechEventDispatcher=function(t,n,r){if(bxLog("SMT Dispatch > ",arguments),scrape_init.dispatchSmartech){var e={page_view:{smtEvent:"Page Browse",eventId:1},view:{smtEvent:"Product View",eventId:28},add_to_fav:{smtEvent:"Add to Wishlist",eventId:35},remove_from_fav:{smtEvent:"Remove from Wishlist",eventId:36},add_to_cart:{smtEvent:"Add To Cart",eventId:2},remove_from_cart:{smtEvent:"Remove From Cart",eventId:5},purchase:{smtEvent:"Product Purchase",eventId:30},checkout:{smtEvent:"Checkout",eventId:3}};if(window.NCSBX&&"smartech"in window)try{var o=n?{PrId:n,PrQt:1}:{};Object.assign(o,Object.assign(r||{},{dispatcher:"boxx"})),e[t]?smartech("dispatch",e[t].smtEvent,o):smartech("dispatch",t,o)}catch(e){bxErrMan.push({cx:{errAt:"SMT>Dispatch",productid:n,boxxEvent:t,props:r},eM:e.message,sT:e.stack},"log")}}},getBoxxTokenId=function(){var e="boxx_token_id"in window?window.boxx_token_id:cookieManager.getCookie("boxx_token_id");return e||void 0};window.NCSBX&&(boxxSmartechEventDispatcher("page_view"),window.NCSBX_UID&&NCSBX_UID!==getBoxxTokenId()&&cookieManager.setCookie("boxx_token_id",NCSBX_UID,365),objIsEmpty(window.NCSBX_UD)||(window.BOXX_CUSTOMER_ID=NCSBX_UD.customerid?NCSBX_UD.customerid:"")),window.boxx_token_id=getBoxxTokenId();var getBoxxCustomerId=function(){return"BOXX_CUSTOMER_ID"in window?BOXX_CUSTOMER_ID:""};window.location.search.toLowerCase().includes("bxdebug")&&cookieManager.setCookie("bxdebug","On",1/48),window.bxdebug="bxdebug"in window?window.bxdebug:""!==cookieManager.getCookie("bxdebug")?1:0,window.bxLog="bxLog"in window?window.bxLog:function(){if(bxdebug)for(var e=0;e<arguments.length;e++)console.log(arguments[e])};var arrayFy=function(e){return Array.prototype.slice.call(e)},bxWipeAll=function(e){bxLog("BXS> Wipe > `"+e+"`"),arrayFy(document.querySelectorAll(e)).forEach(function(e){e.remove()})},bxEmptyAll=function(e){bxLog("BXS> Vacate > `"+e+"`"),arrayFy(document.querySelectorAll(e)).forEach(function(e){e.innerHTML=""})},getLocalePid=function(e){return scrape_init.localization&&scrape_init.bxLocale?e+"_"+scrape_init.bxLocale:e},genRandToken=function(){var e=Math.random().toString(36).replace(/[^a-z]+/g,"").toUpperCase();return bxLog("BXS> genRandToken > "+e),e},boxxRunner=function(){bxLog("BXS> boxxRunner >"),bxPxMx.log("runI");var v2FilterParser=function(e,t){var n={};if("Object"===t.constructor.name){var r={};for(var o in t){var i=v2FilterParser(o,t[o]);for(var a in i)r[a]=i[a]}n[e]=r}else{var s=tryEval(t);s&&(n[e]=s)}return n};try{window.navTrackHeaders={"Content-Type":"application/json"},window.localBoxxCookie=cookieManager.getCookie("boxx_token_id"),localBoxxCookie&&(navTrackHeaders.localBoxxCookie=localBoxxCookie);var uuidv4=function(){return bxLog("Generating uuid"),([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,function(e){return(e^crypto.getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16)})},getTimeStamp=function(){return (new Date).getTime()|| performance&&performance.now&&1e3*performance.now()},addOrReplaceParam=function(e,t,n){var r="([&?]|&amp;)"+(t=encodeURIComponent(t))+"\\b(?:=(?:[^&#]*))*",o=document.createElement("a"),i=new RegExp(r),a=t+(n?"="+encodeURIComponent(n):"");o.href=e;var s=o.search.replace(i,"$1"+a);return s===o.search?o.search+=(o.search?"&":"")+a:o.search=s,o.href};window.bxInjectCss=function(e){var t=document.createElement("style");t.type="text/css",t.appendChild(document.createTextNode(e)),document.head.appendChild(t)},window.bxInjectJs=function(e,t){var n=document.createElement("script");e&&"//"!==e&&"/**/"!==e?(n.type="text/javascript",n.text="try{"+e+'}catch(e){bxErrMan.push({cx:{errAt:"insertedJS"},eM:e.message,sT:e.stack},"warn")}'):t&&(n.src=t),document.body.appendChild(n)},-1!==window.location.search.indexOf("forcescrape=true")&&cookieManager.setCookie("forcescrape","On",1/48);var bxExportEventProducts=function(){var e,t,n,r;bxExportable.length&&!bxExporting&&(localBoxxCookie||boxx_token_id)?(bxExporting=!0,bxLog("bxExportable",bxExportable),e=bxExportable,t=bxExportable.length,n=bxJsLogs.length,r={acts:e.concat(bxJsLogs),client:BOXX_CLIENT_ID,page:scrape_init.pageType,token:getBoxxTokenId(),jsv:scrape_init.jsVersion},Object.assign(r,bxSesMan.vars),fetch(bxEveHost+"/export",{method:"post",headers:navTrackHeaders,body:JSON.stringify(r),credentials:"include"}).then(function(e){200===e.status&&(bxEvExportManager.slice(t),bxJsLogs.slice(n)),bxExporting=!1})):bxExporting=!1},bxUnloadData=function(e){var t,n;bxExportable.length&&bxJsLogs.length&&!bxBeacon&&!bxUnloaded?(bxBeacon=!0,t={acts:bxExportable.concat(bxJsLogs),client:BOXX_CLIENT_ID,page:scrape_init.pageType,token:getBoxxTokenId(),jsv:scrape_init.jsVersion},Object.assign(t,bxSesMan.vars),bxLog("BXS> SendBeacon >>"),n=navigator.sendBeacon(bxEveHost+"/export",JSON.stringify(t)),bxBeacon=!1,bxLog("BXS> <<< SendBeacon"+n),bxUnloaded=e):bxLog("BXS> Either nothing to beacon or Beaconing already")},decodeQs=function(e){var n={};return e.replace("?","").trim().split("&").forEach(function(e){var t;e&&(t=e.split("="),n[decodeURIComponent(t.shift().replace(/\+/g," "))]=decodeURIComponent(t.join("=").replace(/\+/g," ")))}),n},rmTrailChar=function(e,t){return e.replace(new RegExp(t+"$"),"")},sanitisedQs=function(e){var t=[],n=[];for(var r in e)-1===bxQsScheme.allowed.indexOf(r)&&0!==bxQsScheme.allowed.length||t.push(r+"="+rmTrailChar(e[r],"#")),(-1===bxQsScheme.allowed.indexOf(r)||-1===bxQsScheme.unallowed.indexOf(r)&&-1===bxQsScheme.ignored.indexOf(r))&&n.push(r);return["?"+(t=t.sort()).join("&"),n]},processProduct=function(product){try{return eval(product)}catch(e){return bxErrMan.push({cx:{errAt:"processProduct >>> Could not parse product >>> "+product},eM:e.message,sT:e.stack},"fail"),""}},getProperty=function(element,attr){var prop=function(){var val=eval(attr);try{if("String"===val.constructor.name)return val.toString().trim();if("Array"!==val.constructor.name)return val;var newVal=[];return val.forEach(function(e){newVal.push(e.toString().trim())}),newVal}catch(e){return val}};return prop.call(element)},getExtraProps=function(e,r,t){if(bxLog("getExtraProps called >>>"),!r)return{};try{console.log("attrs >>>",r),r=JSON.parse(r)}catch(e){if(console.log("e >>>",e),r=tryEval(r))return r}if(!r||"Object"!==r.constructor.name)return console.log("unusable attrs >>>"),{};var n=e?[e]:t?Array.prototype.slice.call(document.querySelectorAll(t)):[document.querySelector("body")],o=[];return bxLog("products >>>",n),bxLog("attrs >>>",r),n.forEach(function(e){var t={};for(var n in r)try{t[n]=getProperty(e,r[n])}catch(e){}o.push(t)}),o},evaluateCondition=function(condition){if(""===condition||!condition)return!0;try{return eval(condition)}catch(e){return bxErrMan.push({cx:{errAt:"evaluateCondition",condition:condition},eM:e.message,sT:e.stack},"log"),!1}},destroyerOfWidgetInstances=function(n){var r=window.bxExecutoken,e=""===n.dListen?"body":n.dListen;document.querySelector(e).addEventListener(n.dEvent,function e(t){if(r===window.bxExecutoken){if(tryEval(n.dCheck)){try{document.querySelector('[data-boxxwi="'+n.instance+'"]').closest("[data-recoedwidget]").remove()}catch(t){}try{arrayFy(document.querySelectorAll('[data-boxxwi="'+n.instance+'"]')).forEach(function(t){try{t.closest("[data-bxwrap]").remove()}catch(e){t.remove()}})}catch(t){}}}else bxLog("BXS> destroyChecker listener dying"),document.querySelector("body").removeEventListener(event,e)})},tryEval=function(content,critical){try{return eval(content)}catch(e){var level=critical?"fail":"log",err={cx:content,eM:e.message,sT:e.stack};return bxErrMan.push(err,level),null}},addEventChecker=function(o,i,a){var s=window.bxExecutoken;document.querySelector("body").addEventListener(i,function e(t){var n,r;s===window.bxExecutoken?(n=tryEval(o[i]),bxLog("in Listener",scrape_init[a],n),scrape_init[a]!==n?(scrape_init[a]=n,r=scrape_init.checkDelay?parseFloat(scrape_init.checkDelay):0,setTimeout(bxReloader,1e3*r,!0)):bxLog("Not calling")):(bxLog("BXS> eveChecker listener dying"),document.querySelector("body").removeEventListener(i,e))})},htmlInjector=function(e,t,n){var r,o,i=e.trim().split(">")[0].split(" ")[0].replace("<","").trim(),a=document.createElement(i);"inner"===n?(bxLog("BXS> Injecting inner in `"+t+"`"),document.querySelector(t).innerHTML=e):"replace"===n?(bxLog("BXS> Replacing `"+t+"`"),document.querySelector(t).outerHTML=e):"before"===n?(bxLog("BXS> Injecting before `"+t+"`"),(o=(r=document.querySelector(t)).parentNode).insertBefore(a,r),a.outerHTML=e):"prepend"===n?(bxLog("BXS> Prepending in `"+t+"`"),(o=document.querySelector(t)).insertBefore(a,o.childNodes[0]),a.outerHTML=e):"append"===n?(bxLog("BXS> Appending in `"+t+"`"),(o=document.querySelector(t)).appendChild(a),a.outerHTML=e):(bxLog("BXS> Injecting after `"+t+"`"),document.querySelector(t).insertAdjacentHTML("afterend",e))},injectMenuItem=function(e){var t=e.menuItemContent,n=e.injectSelector,r=e.injectType;htmlInjector(t,n,r)},processInstanceDict=function(e){for(var t in e){var n,r,o;e[t].msg&&bxErrMan.push({cx:{errAt:"Widget API resp msg",instance:t},eM:e[t].msg,sT:e[t].err_msg},"warn"),e[t].html?(bxTrackConfs.push(bxAutoTrackConfs[t]),bxTracking||filteringTrackConfigs(),bxLog("BXS> "+t+" > Autotracked"),e[t].style&&(bxInjectCss(e[t].style),bxLog("BXS> "+t+" > Style injected")),n=bxWidgetInjects[t].selector,r=bxWidgetInjects[t].inject,o=e[t].html,htmlInjector(o,n,r),bxPxMx.log(t+"_iSx"),bxLog("BXS> "+t+" > Html injected"),bxWidgetInjects[t].canPopUp=!0,e[t].script&&(bxInjectJs(e[t].script),bxLog("BXS> "+t+" > Script injected"))):bxLog("[BOXX-DEBUG] No Html returned in response"),e[t].excludes&&bxRegettableInstances[t]&&(bxRegettableInstances[t].config.query.exclude=e[t].excludes,bxLog("BXS> Excludes saved"))}},MutationObserver=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver,mutationObserver=new MutationObserver(function(e){var t=window.bxExecutoken;e.forEach(function(e){t===window.bxExecutoken?e.addedNodes.length&&bxMutations.push(e):(bxLog("mutationObserver - Disconnecting"),mutationObserver.disconnect())})}),processbxMutations=function(){bxMutations.length&&(bxMutations=[],bxTrackConfs.forEach(function(e){sendLoadedProducts(e)}))},setObservedData=function(e,t){t.unobserve(e.target);try{var n=e.target,r=n.getAttribute("data-bxrfid"),o={t:"seen",pid:getLocalePid(r.split("~`~")[0]),w:r.split("~`~")[1],po:r.split("~`~")[2],pg:r.split("~`~")[3],ts:getTimeStamp()};try{o.wi=getProperty(n,"this.getAttribute('data-boxxwi')"),o.rid=getProperty(n,"JSON.parse(this.getAttribute('data-bxwidat')).rid")}catch(e){}bxEvExportManager.push(o),"bxSeenCallback"in window&&bxSeenCallback(o),"smtSeenCallback"in window&&smtSeenCallback(o)}catch(e){bxLog("[BOXX ~ ISSUE] ->"+e.message)}},handleIntersect=function(e,t){bxLog("handleIntersect called"),e.forEach(function(e){0<e.intersectionRatio&&setObservedData(e,t)})},verifyBlocks=function(e){return Array.prototype.slice.call(e).filter(function(e){return null!==e.closest(".cloned")})},sendLoadedProducts=function(r){BOXX_CLIENT_ID;var o,i,a,e=r.block+":not([data-bxrfid])",t=document.querySelectorAll(e),n=Array.prototype.slice.call(t);n.length&&(o=new IntersectionObserver(handleIntersect,{rootMargin:"0px",threshold:.3}),i=bxLoadedCounter[r.block]||0,bxLog("untrackedBlock >> `"+e+"` loaded > "+i+" count > "+n.length),bxLog("BXS> New products loaded >>> `"+r.block+"`"),bxLoadedProducts[r.block]||(bxLoadedProducts[r.block]=[]),a=r.selector.trim(),n.forEach(function(e,t){if(!e.getAttribute("data-bxrfid")){try{var n=getProperty(e.closestChild(a),r.parser)}catch(e){return void bxErrMan.push({cx:{errAt:"Unable to parse productid in loaded products",idSelector:a,idParser:r.parser},eM:e.message,sT:e.stack},"warn")}e.setAttribute("data-bxrfid",n+"~`~"+r.wn+"~`~"+i+t+"~`~"+r.pn),o.observe(e)}}),bxLoadedCounter[r.block]=i+n.length)},trackClicks=function(){var m,v;bxTrackingClicks||(bxTrackingClicks=!0,bxLog("BXS> Initializing trackClicks >>>"),m=["click","contextmenu"],v=window.bxExecutoken,m.forEach(function(e){document.body.addEventListener(e,function t(e){if(v===window.bxExecutoken){if(bxTrackLikes&&e.target.closest(".bxbotiqueactions")){var n="liked",r=!1,o=!0;try{var i,a,s,c,l,p,u,d=e.target.closest("[data-recoedproduct]");d&&(a=(i=JSON.parse(d.getAttribute("data-bxwidat"))).cid||i.pid,s=d.getAttribute("data-boxxwi"),a&&(e.target.closest(".bxlikeablebtnlink")&&(o=!1,(c=e.target.closestChild(".bxlikeablebtn")).classList.toggle("bxliked"),c.closest(".bxliked")||(n="unliked"),c.closest(".bxxlike")&&(r=!0),(l=e.target.closest(".bxbotiqueactions").querySelector(".bxdisliked"))&&l.classList.toggle("bxdisliked")),e.target.closest(".bxdislikeablebtnlink")&&((c=e.target.closestChild(".bxdislikeablebtn")).classList.toggle("bxdisliked"),n=c.closest(".bxdisliked")?"disliked":"undisliked",c.closest(".bxxdislike")&&(r=!0),(p=e.target.closest(".bxbotiqueactions").querySelector(".bxliked"))&&p.classList.toggle("bxliked")),"bxBotiqueActionCallback"in window&&bxBotiqueActionCallback({pid:a,type:n,target:d}),u={userid:getBoxxCustomerId(),client:BOXX_CLIENT_ID,client_id:"Vrn",access_token:"9e3fe697-3c50-4a81-986d-8d135141e582",data:[{boxx_token_id:getBoxxTokenId(),productid:getLocalePid(a),type:n,transactiondate:null,via:"js"}],fetchReplacement:r,demo:bxDemo},s&&bxRegettableInstances[s]&&(u.config=[bxRegettableInstances[s].config],u.page=[bxRegettableInstances[s].page]),fetch(bxRecHost+"/nav/like"+"/?h="+window.location.hostname+"&c="+BOXX_CLIENT_ID,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(u),credentials:"include"}).then(function(e){return e.json()}).then(function(e){var t;e.data&&e.data.length&&((t=e.data[0][s])&&t.html&&(d.closest("[data-bxwrap]").outerHTML=t.html,bxInjectJs(t.script),bxRegettableInstances[s].config.query.exclude=t.excludes))}).catch(function(e){bxErrMan.push({cx:{api:"likeapi"},eM:e.message,sT:e.stack},"error")})))}catch(e){bxErrMan.push({cx:{errAt:"TrackClicks > TrackLikes",eM:e.message,sT:e.stack}},"warn")}if(o)return}var f=e.target.closest("[data-bxrfid]");if(!f)return;try{bxLog("Processing normal click");var h=f.getAttribute("data-bxrfid"),x={t:"clicked",pid:getLocalePid(h.split("~`~")[0]),w:h.split("~`~")[1],po:h.split("~`~")[2],pg:h.split("~`~")[3],ts:getTimeStamp()},y=x.pid.trim();try{x.wi=getProperty(f,"this.getAttribute('data-boxxwi')");var g=getProperty(f,"JSON.parse(this.getAttribute('data-bxwidat'))");x.rid=g.rid,g.al.forEach(function(e){e!==x.pid.trim()&&(y=y+"||"+e)})}catch(e){}bxEvExportManager.push(x);var b={};b[y]=x,localStorage.updateExtendObject("bxClickData",b),"bxClickCallback"in window&&bxClickCallback(x),"smtClickCallback"in window&&smtClickCallback(x)}catch(e){bxErrMan.push({cx:{errAt:"at trackClicks > try making posData"},eM:e.message,sT:e.stack},"fail")}}else bxLog("BXS> -> Track Click listeners dying"),m.forEach(function(e){document.body.removeEventListener(e,t)})})}))},filteringTrackConfigs=function(e,n){bxLog("filteringTrackConfigs called >>>"),bxDomainCheck&&(bxTrackConfs&&bxTrackConfs.length||e&&e.length)&&(bxTracking=!0,mutationObserver.observe(document.body,{childList:!0,subtree:!0,attributes:!1}),bxMutationsProcessing||(bxMutationsProcessing=!0,setInterval(processbxMutations,1500)),trackClicks(),e&&e.forEach(function(e){var t={block:e.block,selector:e.selector,parser:e.parser,wn:e.widget,pn:n};bxTrackConfs.push(t)}),bxTrackConfs.forEach(function(e){sendLoadedProducts(e)}))},bxSite,bxDomainCheck,bxBrowser,bxCtx,bxCtxExp,bxLoadedCounter,bxLoadedProducts,bxWidgetInjects,bxTrackConfs,bxAutoTrackConfs,bxMutations,bxQsScheme,bxReloading,bxModalStyles,bxAppName,bxInteractionTypes,bxBeacon,bxUnloaded,bxRegettableInstances,bxTrackLikes,bxTrackingClicks,bxTracking,bxDoNotTrack,bxMutationsProcessing;scrape_init.notBoxxModels=["6","176"],scrape_init.jsVersion=-1<["v","vTEST","vDEV"].indexOf("v16")?"v2":"v16",scrape_init.pbxpvid=sessionStorage.getItem("bxpvid"),scrape_init.pbxpvid&&sessionStorage.setItem("pbxpvid",scrape_init.pbxpvid);var checkDelay=scrape_init.checkDelay?parseFloat(scrape_init.checkDelay):0,loadDelay=scrape_init.loadDelay?parseFloat(scrape_init.loadDelay):0,bxQsScheme={"ignored": [], "unallowed": ["utm_campaign", "utm_source", "utm_medium", "utm_content", "utm_term"], "allowed": []},bxInteractionTypes={"purchase": "purchase", "remove_from_cart": "remove_from_cart", "add_to_cart": "add_to_cart", "login": "", "view": "view", "sign_up": "", "add_to_fav": "add_to_fav"},bxAppName="fahasa",buyIntent="",justIntent="";if(objIsEmpty(bxInteractionTypes)||(buyIntent=bxInteractionTypes.purchase+","+bxInteractionTypes.checkout_initiated,justIntent=bxInteractionTypes.add_to_fav+","+bxInteractionTypes.add_to_cart),bxLog("[BOXX-INFO] buyIntent - `"+buyIntent+"` | justIntent - `"+justIntent+"`"),window.bxDemo="bxDemo"in window?bxDemo:document.location.search.toLowerCase().includes("boxxdemo")||""!==cookieManager.getCookie("boxxdemo"),bxDemo&&""===cookieManager.getCookie("boxxdemo")&&cookieManager.setCookie("boxxdemo","true",1/48),""!==scrape_init.globalCss&&bxInjectCss(scrape_init.globalCss),""!==scrape_init.globalJs&&bxInjectJs(scrape_init.globalJs),bxBrowser=navigator.userAgent.match(/(firefox|msie|chrome|safari|trident)/gi),bxBrowser=bxBrowser?bxBrowser[0].toLowerCase():"unknown",dismiss_list=["cancel","close"],bxSite="www.fahasa.com",bxDomainCheck=""===bxSite||-1!==bxSite.indexOf(window.location.hostname),bxDomainCheck||bxErrMan.push({cx:null,eM:"Domain check failed",sT:null},"warn"),permissionData={},bxReloading=!1,scrape_init.localization&&(scrape_init.bxLocale=tryEval(scrape_init.locale),scrape_init.bxLocale||bxErrMan.push({cx:{locale:scrape_init.locale},eM:"Locale not found",sT:null},"warn")),scrape_init.componentLoads){scrape_init.reloadOnPopState&&window.addEventListener("popstate",function(e){bxLog("BXS> Url changed > reloading"),bxReloader(!0)}),scrape_init.reloadOnHashChange&&window.addEventListener("hashchange",function(e){bxLog("BXS> Hash changed > reloading"),bxReloader(!0)});var suspects=scrape_init.suspects;if(suspects&&suspects.length)for(var su=0;su<suspects.length;++su){var indx="suspect"+su;bxLog("indx ~ "+indx);var suspect=suspects[su],events=[];for(var yevent in suspect)suspect.hasOwnProperty(yevent)&&events.push(yevent);for(var ei=0;ei<events.length;++ei){var evnt=events[ei];scrape_init[indx]=tryEval(suspect[evnt]),bxLog("pre Listener ~ "+suspect+" ~ "+evnt+" ~ "+indx+" ~ "+scrape_init[indx]+" ~ "+tryEval(suspect[evnt])),addEventChecker(suspect,evnt,indx)}}}var suspectCheck=function(e,t){var n=tryEval(e.parse,!0);bxLog("in Listener",window.bxSuspects[t],n),window.bxSuspects[t]!==n?(window.bxSuspects[t]=n,bxReloader(!0)):bxLog("Not calling")},initiateSuspectChecker=function(n,r){var o=window.bxExecutoken;document.querySelector("body").addEventListener(n.event,function e(t){o===window.bxExecutoken?setTimeout(suspectCheck,1e3*checkDelay,n,r):(bxLog("BXS> suspectChecker listener dying"),document.querySelector("body").removeEventListener(n.event,e))})},bxSetContext=function(){objIsEmpty(bxCtx)||fetch("//boxx.ai/api/data/set_context/",{method:"post",headers:navTrackHeaders,body:JSON.stringify({context:bxCtx,expires:bxCtxExp,client:BOXX_CLIENT_ID}),credentials:"include"}).then(function(e){"200,201".contains(e.status)&&bxLog("Context Set")})},attachContextListener=function(n,r,e,t,o){var i=window.bxExecutoken,a=e.split("|||"),s=a[0].trim(),c=(c=a[1]?a[1]:t||"body").trim();bxLog("ev > "+n+", ctxVariable > "+r+", ctxValParser > "+e+", targetSelector > "+c);try{document.querySelector(c).addEventListener(n,function e(t){i===window.bxExecutoken?(bxLog("BXS> Setting Context > parseObj > "+s),function(){var e=tryEval(s);bxLog("ctxVal",e),e&&(bxCtx[r]=e,bxCtxExp[r]=a[2]||o,bxSetContext())}.call(t.target)):document.querySelector(c).removeEventListener(n,e)})}catch(e){bxLog("[BOXX ~ FAILS]"+e.message)}},filteringContextConfigs=function(e){for(var t in bxLog("BXS> FilteringContextConfigs",e),e)for(var n=e[t],r=0;r<n.length;++r){var o,i=n[r];"auto"===i.event?(o=tryEval(i.parser))&&(bxCtx[t]=o,bxCtxExp[t]=i.expiry):attachContextListener(i.event,t,i.parser,i.selector,i.expiry)}},widgetInitiator=function(e,r){var o=[],i=[];if(bxDomainCheck&&e&&e.length&&(!scrape_init.localization||scrape_init.bxLocale?e.forEach(function(e){var t,n=e.listen+"-"+e.event+"-bx-modal";cookieManager.getCookie(n)||!bxDemo&&!e.published?bxErrMan.push({cx:{instance:e.instance},eM:"Widget `unpublished`",sT:null},"fail"):evaluateCondition(e.condition)?(e.listen&&(bxModalStyles||(bxModalStyles=!0,injectBxModalStyles()),(t=document.createElement("div")).id=n+"-parent",t.classList.add("bx-intent-modal-parent"),document.body.appendChild(t),t.innerHTML='<div class="bxModalContainer" id="'+n+'"></div>',e.selector="#"+n,e.inject="inner",attachIntentListener(e)),1===document.querySelectorAll(e.selector).length?(bxWidgetInjects[e.instance]={selector:e.selector,inject:e.inject,canPopUp:!1},bxAutoTrackConfs[e.instance]={block:"[data-boxxwi='"+e.instance+"']:not(.slick-cloned):not(.cloned):not(.bx-clone)",selector:"[data-boxxwi='"+e.instance+"']",parser:"JSON.parse(this.getAttribute('data-bxwidat')).pid",wn:e.trackAs||e.name,pn:r},e.dEvent&&destroyerOfWidgetInstances(e),(e.likeable||e.dislikeable)&&(bxTrackLikes=!0,(e.xLike||e.xDislike)&&(bxRegettableInstances[e.instance]={config:e,page:r})),o.push(e),i.push(r)):bxErrMan.push({cx:{instance:e.instance,inject:e.inject,selector:e.selector},eM:"Widget inject selector found None or duplicates",sT:null},"fail")):bxErrMan.push({cx:{instance:e.instance,condition:e.condition},eM:"Widget condition failed",sT:null},"log")}):bxErrMan.push({cx:null,eM:"NOT fetching Widget -> Locale undefined",sT:null},"fail")),o&&o.length)return[o,i]},filteringBoxxPages=function(e){if(e.length){var n=[],r=[];if(e.forEach(function(t){var e;""!==t.pageUrl&&-1!==(document.location.pathname+document.location.hash).indexOf(t.pageUrl)&&(t.destroy&&t.destroy.split("|").forEach(function(e){e.trim()&&bxEmptyAll(e)}),e=t.widgetConfig,bxDomainCheck&&e&&e.length&&(!scrape_init.localization||scrape_init.bxLocale?e.forEach(function(e){bxDemo||e.published?evaluateCondition(e.condition)?1===document.querySelectorAll(e.selector).length?(n.push(e),r.push(t),bxWidgetInjects[e.instance]={selector:e.selector,inject:e.inject},bxAutoTrackConfs[e.instance]={block:"[data-boxxwi='"+e.instance+"']:not(.slick-cloned):not(.cloned):not(.bx-clone)",selector:"[data-boxxwi='"+e.instance+"']",parser:"JSON.parse(this.getAttribute('data-bxwidat')).pid",wn:e.trackAs||e.name,pn:t.name},e.dEvent&&destroyerOfWidgetInstances(e),(e.likeable||e.dislikeable)&&(bxTrackLikes=!0,(e.xLike||e.xDislike)&&(bxRegettableInstances[e.instance]={config:e,page:t.name}))):bxErrMan.push({cx:e,eM:"Widget inject selector found None or duplicates",sT:null},"warn"):bxErrMan.push({cx:e,eM:"Widget condition failed",sT:null},"log"):bxErrMan.push({cx:e,eM:"Widget unpublished",sT:null},"fail")}):bxErrMan.push({cx:null,eM:"NOT fetching Widgets -> Locale undefined",sT:null},"warn")))}),n&&0<n.length&&r&&0<r.length)return[n,r]}},injectBxModalStyles=function(){bxLog("BXS> Injecting modal styles");bxInjectCss(".bx-intent-modal-parent{display:none;position:fixed;top:0;z-index:99999;width:100%;height:100vh;background:#777777b8;text-align:center}.bxModalContainer{display:table-cell;vertical-align:middle}");bxInjectJs('document.querySelector("body").addEventListener("click",function(ev){if(ev.target.classList.contains("bxModalContainer")){ev.target.parentElement.style.display="none";}});')},attachIntentListener=function(popup){bxLog("BXS> Attaching intent listener");var token=window.bxExecutoken;"auto"===popup.event&&(popup.callback=popup.callback.trim()+" && window."+popup.instance+"__popup === true"),bxLog(popup);var evTarget="window"===popup.listen?window:document.querySelector(popup.listen);evTarget.addEventListener(popup.event,function intentListenr(e){var modalId=popup.listen+"-"+popup.event+"-bx-modal";token===window.bxExecutoken&&"boxx"===scrape_init.pubMv&&document.getElementById(modalId)?(bxLog("Popup intent detected "+modalId),bxWidgetInjects[popup.instance].canPopUp&&eval(popup.callback)&&!cookieManager.getCookie(modalId)?(document.getElementById(modalId+"-parent").style.display="table",cookieManager.setCookie(modalId,"true",1),bxLog("Popup triggered successfully "+modalId),bxLog("BXS> intentListenr listener dying"),document.querySelector(popup.listen).removeEventListener(popup.event,intentListenr)):bxLog("Popup checks failed "+modalId)):document.querySelector(popup.listen).removeEventListener(popup.event,intentListenr)}),"auto"===popup.event&&setTimeout(function(){window[popup.instance+"__popup"]=!0;var e=new CustomEvent("auto");document.body.dispatchEvent(e)},popup.delay?1e3*parseFloat(popup.delay):1e4)},filteringTriggerConfigs=function(e,t){if(e&&bxDomainCheck)for(var n=0;n<e.length;++n){var r,o,i=e[n];bxLog("trigger",i),"auto"===i.trigger_type?(r=i.trigger_element_selector?document.querySelector(i.trigger_element_selector):document.querySelector("body"),(o=getProperty(r,i.product))&&(BoxxClient.saveInteraction(t,o,i.interaction_type,"",null,function(e,t,n){bxLog(e,t,n)},getExtraProps(void 0,i.props,i.trigger_element_selector),i.smtOnly),bxLog("[BOXX ~ STATUS] -> Auto trigger success"))):i.trigger_element_selector?attachTriggerListener(t,i):bxErrMan.push({cx:i,eM:i.trigger_type+" trigger selector undefined in config",sT:null},"warn")}},suspectCheckers=function(e,t){if(scrape_init.componentLoads&&e&&e&&e.length)for(var n=0;n<e.length;++n){var r=t+n;bxLog("indx ~ "+r);var o=e[n],i=tryEval(o.parse,!0);bxLog("pre Listener ~ "+o+" ~ "+evnt+" ~ "+r+" ~ "+window.bxSuspects[r]+" ~ "+i),window.bxSuspects[r]=i,initiateSuspectChecker(o,r)}},scrapeConfigs=function(e){var t=[];return bxDomainCheck&&scrape_init.scrape&&(e&&document.querySelectorAll(e.productBlock).length&&t.push(e),scrape_init.useItemProps&&bxLog("BXS> - Scraping using schema.org props")),t},widgetConfParser=function(widgetList,pageList){for(var wlist=[],pglist=[],z=0;z<widgetList.length;++z){var wConf=widgetList[z],pname=pageList[z];if(evaluateCondition(wConf.condition))try{var rel_product=processProduct(wConf.product);rel_product&&("String"===rel_product.constructor.name?rel_product=rel_product.split(","):"Array"!==rel_product.constructor.name&&(rel_product=[rel_product]));var exclude_prod=processProduct(wConf.exclude);""!==exclude_prod&&void 0!==exclude_prod?"String"===exclude_prod.constructor.name?exclude_prod=exclude_prod.split(","):"Array"!==exclude_prod.constructor.name&&(exclude_prod=[exclude_prod]):exclude_prod=[],wConf.query={related_products:rel_product,exclude:exclude_prod,item_filters:{}},scrape_init.localization&&scrape_init.bxLocale&&(wConf.query.item_filters.boxx_locale=scrape_init.bxLocale);var filter=wConf.filter,filter_key,filter=filter.toString();if(filter)if(scrape_init.parserVersion&&"v1"!==scrape_init.parserVersion)try{var preParsedfilters=JSON.parse(filter),parsedFilters={};for(var each in preParsedfilters){var parsd=v2FilterParser(each,preParsedfilters[each]);for(var parsedFil in parsd)parsedFilters[parsedFil]=parsd[parsedFil]}wConf.query.item_filters=parsedFilters}catch(e){bxErrMan.push({cx:{issue:"Cant parse filter",filter:preParsedfilters,filter_key:each},eM:e.message,sT:e.stack},"fail")}else if(0===filter.indexOf("{")&&(bxLog("{ in filter"),filter_key=filter.replace(/{/g,"").replace(/}/g,"").split(".")[1].trim(),bxLog("[BX_DEBUG] filter_key > `"+filter_key+"`"),wConf.query.item_filters[filter_key]="<<filter>>"),0===filter.indexOf("``"))for(var filters=filter.replace(/`/g,"").split("<|>"),f=0;f<filters.length;++f){var filtr=filters[f];if(0!==filtr.indexOf("{"))if(-1===filtr.indexOf("!=")){var arrOperator="$in",filter_key,filter_val,arrOperator,filter_key,filter_val;try{if(-1!==filtr.indexOf("====")?(filter_key=filtr.split("====")[0].trim(),filter_val=filtr.split("====")[1].trim(),arrOperator="$all"):(filter_key=filtr.split("=")[0].trim(),filter_val=filtr.split("=").slice(1).join("=").trim()),bxLog("[BX_DEBUG] filter_key > `"+filter_key+"`, filter_val before eval `"+filter_val+"`"),filter_val=eval(filter_val),!filter_val)continue;bxLog("[BX_DEBUG] filter_key > `"+filter_key+"`, filter_val after eval `"+filter_val+"`"),"Array"===filter_val.constructor.name?(wConf.query.item_filters[filter_key]={},wConf.query.item_filters[filter_key][arrOperator]=filter_val):wConf.query.item_filters[filter_key]=filter_val}catch(e){bxErrMan.push({cx:{issue:"Cant parse filter",filter:filter,filter_key:filter_key},eM:e.message,sT:e.stack},"fail")}}else try{var filter_key=filtr.split("!=")[0].trim(),filter_val=filtr.split("!=")[1].trim();if(bxLog("[BX_DEBUG] filter_key > `"+filter_key+"`, filter_val before eval `"+filter_val+"`"),filter_val=eval(filter_val),!filter_val)continue;bxLog("[BX_DEBUG] filter_key > `"+filter_key+"`, filter_val after eval `"+filter_val+"`"),"Array"===filter_val.constructor.name?wConf.query.item_filters[filter_key]={$nin:filter_val}:wConf.query.item_filters[filter_key]={$ne:filter_val}}catch(e){bxErrMan.push({cx:{issue:"Cant parse filter",filter:filter,filter_key:filter_key},eM:e.message,sT:e.stack},"fail")}else{bxLog("{ in filtr");var filter_key=filtr.replace(/{/g,"").replace(/}/g,"").split(".")[1].trim();bxLog("[BX_DEBUG] filter_key > `"+filter_key+"`"),wConf.query.item_filters[filter_key]="<<filter>>"}}wConf.onPageFilter&&(wConf.query.item_filters.on_page=scrape_init.scrapePath),bxLog("wConf",wConf),wlist.push(wConf),pglist.push(pname)}catch(e){bxLog(e)}}return[wlist,pglist]},realpageConfigParser=function(e,t){scrape_init.pageType.push(t.name),filteringContextConfigs(t.contextConfig);var n,r=widgetInitiator(t.widgetConfig,t.name);null!=r&&2==r.length&&(n=widgetConfParser(r[0],r[1]),bxNavData.widget_configs.push(n));var o,i=widgetInitiator(t.popupConfig,t.name);null!=i&&2==i.length&&(o=widgetConfParser(i[0],i[1]),bxNavData.widget_configs.push(o)),bxLog("BXS> Config parser resolving >>>",t.name),e(!0)},pageConfigParser=function(n){var e=new RegExp(n.regex);return scrape_init.regexReference.match(e)&&(""===n.regextra||void 0===n.regextra||tryEval(n.regextra))?(bxLog("BXS> Regex Match >>> "+n.name+" > `"+e+"`"),bxLog("BXS> Triggered config >>>",n),scrape_init.triggerableConfs.push(n),new Promise(function(e,t){bxLog("BXS> Config parser called >>> "+n.name+" with maxWait of - "+n.maxWait),setTimeout(realpageConfigParser,1e3*parseFloat(n.maxWait?n.maxWait:0),e,n)})):(bxLog("BXS> Failed Regex Match >>> "+n.name+" > `"+e+"`"),Promise.resolve(!0))},reloadVars=function(){bxCtx={},bxCtxExp={},bxWidgetInjects={},window.bxSuspects={},bxLoadedCounter={},bxLoadedProducts={},bxRegettableInstances={},bxTrackConfs=[],bxAutoTrackConfs={},bxMutationsProcessing=bxTracking=bxTrackLikes=bxTrackingClicks=bxUnloaded=bxBeacon=bxModalStyles=!(bxMutations=[]),window.bxConfProcessing=!1,window.bxMaxWait=0,window.bxNavData={widget_configs:[]};var e=document.location.pathname,t=document.location.search,n=sanitisedQs(decodeQs(t)),r=n[0],o=e+r,i=n[1],a=scrape_init.includeQs?e+r:e;bxLog("BXS> -> regexReference "+a);var s=scrape_init.queryString?o.replace(document.location.hostname,"").replace("http://","").replace("https://",""):document.location.pathname,c=scrape_init.queryStringSuffix;if(c&&""!==c){for(var l=[],p=c.split("<|>"),u=0;u<p.length;++u){var d=p[u],f=d.split("=|=")[0],h=d.split("=|=")[1];l.push(f+"="+tryEval(h))}var x=l.join("&"),s=t&&""!==t?s+"&"+x:s+"?"+x;bxLog("BXS> scrapePath > `"+s+"`")}scrape_init.pageType=[],scrape_init.on_page=o,scrape_init.regexReference=a,scrape_init.scrapePath=s,scrape_init.screen={availWidth:window.screen.availWidth,availHeight:window.screen.availHeight,width:window.screen.width,height:window.screen.height},scrape_init.triggerableConfs=[];var y,g=filteringBoxxPages(boxxPages);null!=g&&2==g.length&&(y=widgetConfParser(g[0],g[1]),bxNavData.widget_configs.push(y)),bxDoNotTrack="BOXX_DONOT_TRACK"in window&&!0===BOXX_DONOT_TRACK,window.BOXX_DONOT_TRACK=!0,bxLog("BXS> bxDoNotTrack - "+bxDoNotTrack),Object.assign(bxNavData,{client_id:BOXX_CLIENT_ID,smartech:!!window.NCSBX&&NCSBX,customer_id:getBoxxCustomerId(),boxx_token_id:localBoxxCookie,bxDoNotTrack:bxDoNotTrack,href:document.location.href,scrapePath:s,on_page:document.location.hostname+s,ignoredParams:scrape_init.queryString?i:[],demo:bxDemo,browser:bxBrowser,scrape:scrape_init.scrape,pageType:scrape_init.pageType,activeFor:scrape_init.activeFor?parseInt(scrape_init.activeFor):24,scrapeInterval:scrape_init.scrapeInterval?parseInt(scrape_init.scrapeInterval):4})};window.bxExecuteConfigs=function(){reloadVars(),Promise.all(boxxAutoTriggerConfig.map(function(e){return pageConfigParser(e)})).then(function(e){scrape_init.pageState=1===scrape_init.pageType.length?"resolved":0===scrape_init.pageType.length?"unresolved":"ambiguous",bxNavData.pageState=scrape_init.pageState,bxNavData.context=bxCtx,bxNavData.expires=bxCtxExp,bxErrMan.push({cx:{pageType:scrape_init.pageType,pageState:scrape_init.pageState},eM:"pageState",sT:null},"resolved"===scrape_init.pageState?"log":"warn"),callNavTrack()})},window.bxReloader=function(){bxReloading?bxLog("BXS> Reload in progress..."):(window.bxExecutoken=genRandToken(),bxReloading=!0,loadDelay?setTimeout(bxExecuteConfigs,1e3*loadDelay):bxExecuteConfigs())},bxReloader(),bxEvExportManager.init(),setInterval(bxExportEventProducts,7e3),window.addEventListener("beforeunload",function(e){bxLog("BXS> -> *** beforeunload window ***"),bxUnloadData(!0)}),window.addEventListener("unload",function(e){bxLog("BXS> -> *** unload window ***"),bxUnloadData(!0)});var bodyOnbeforeunload=document.querySelector("body").onbeforeunload;document.querySelector("body").onbeforeunload=function(e){bodyOnbeforeunload&&bodyOnbeforeunload(),bxLog("BXS> -> *** onbeforeunload body ***"),bxUnloadData(!0)};var bodyOnunload=document.querySelector("body").onunload;document.querySelector("body").onunload=function(e){bodyOnunload&&bodyOnunload(),bxLog("BXS> -> *** onunload body ***"),bxUnloadData(!0)};var attachTrackerUnloadListener=function(t,e){document.querySelector(t)&&(document.querySelector(t).onbeforeunload=function(e){bxLog("BXS> -> *** onbeforeunload "+t+" ***"),bxUnloadData(!1)},document.querySelector(t).onunload=function(e){bxLog("BXS> -> *** onunload "+t+" ***"),bxUnloadData(!1)},bxLog("[BOXX~intervalId] -> "+window[e]),window.clearInterval(window[e]),bxLog("BXS> -> Found  "+t+", cleared interval"))},bxTrackerUnloader=function(){window.bxWUID=window.setInterval(attachTrackerUnloadListener,2e3,"[data-recoedproduct]","bxWUID")};bxTrackerUnloader(),window.callNavTrack=function(){bxLog("BXS> Promises resolved > navTrack called"),bxWipeAll("[data-recoedwidget]"),bxWipeAll("[data-bxwrap]"),bxWipeAll("[data-bxmenuitem]"),bxWipeAll("[data-recoedproduct]"),scrape_init.menuItems&&scrape_init.menuItems.length&&scrape_init.menuItems.forEach(function(t){if((t.published||bxDemo)&&evaluateCondition(t.menuItemCondition))try{injectMenuItem(t)}catch(e){var n={cx:t,eM:e.message,sT:e.stack};bxErrMan.push(n,"fail")}}),bxPxMx.log("navTrI"),fetch(bxRecHost+"/nav"+"/?h="+window.location.hostname+"&c="+BOXX_CLIENT_ID,{method:"post",headers:navTrackHeaders,body:JSON.stringify(bxNavData),credentials:"include"}).then(function(e){if(200===e.status)return bxPxMx.log("navTrSx"),e.json()}).then(function(e){window.boxx_token_id=e.boxx_token_id;var t,n="BOXX_TOKEN_CONSUMER_URL"in window?BOXX_TOKEN_CONSUMER_URL:"";scrape_init.batch=cookieManager.getCookie("forcescrape")?0:e.batch,scrape_init.scrape=!!cookieManager.getCookie("forcescrape")||scrape_init.scrape,scrape_init.loaded=e.loaded,navTrackHeaders.loaded=e.loaded,scrape_init.bxpvid=e.bxpvid,sessionStorage.setItem("bxpvid",scrape_init.bxpvid),navTrackHeaders.bxpvid=e.bxpvid,scrape_init.prvMv=e.prvMv,scrape_init.pubMv=e.pubMv,scrape_init.expId=e.expId,scrape_init.userSeg=e.userSeg,scrape_init.modelSeg=e.modelSeg,bxSesMan.setSegmentDetails(scrape_init),scrape_init.enableGA&&(window._gaq?_gaq.push(["_setCustomVar",5,"boxx_segment",-1!==scrape_init.notBoxxModels.indexOf(scrape_init.pubMv)?"noBoxx":"Boxx",2]):window.ga&&ga("set","boxx_segment",-1!==scrape_init.notBoxxModels.indexOf(scrape_init.pubMv)?"noBoxx":"Boxx")),scrape_init.checkLogin=e.checkLogin,bxDoNotTrack||cookieManager.setCookie("boxx_token_id",getBoxxTokenId(),37e3);try{for(var r=0;r<e.widgets.length;r++)e.widgets[r].data!==[]&&null!=e.widgets[r].data?e.widgets[r].data.forEach(function(e){processInstanceDict(e)}):-1===scrape_init.notBoxxModels.indexOf(scrape_init.pubMv)&&bxErrMan.push({cx:{data:e.widgets[r].data},eM:"Widget API returned empty, you may have to publish data (and/or) set primary trans type",sT:null},"warn")}catch(e){bxErrMan.push({cx:{errAt:"Handling widget responses in navTrack response"},eM:e.message,sT:e.stack},"error")}executePostBoxxTokenSet(),"waitTillBoxxTokenSet"in window&&waitTillBoxxTokenSet(),boxx_token_id&&n&&(t=addOrReplaceParam(n,"boxx_token_id",boxx_token_id),fetch(t,{method:"GET",credentials:"include"}).then(function(){bxLog("BXS> Fetch > GET > Boxx_token_consumer_url > success")}).catch(function(e){bxErrMan.push({cx:{errAt:"calling boxx_token_consumer_url"},eM:e.message,sT:e.stack},"error")})),bxReloading=!1}).catch(function(e){bxPxMx.log("navTrFx"),bxErrMan.push({cx:{api:"nav_track"},eM:e.message,sT:e.stack},"error")})};var attachTriggerListener=function(r,o){var i=window.bxExecutoken;document.querySelector("body").addEventListener(o.trigger_type,function e(t){var n;i===window.bxExecutoken?(bxLog("triggered >>>",o,t),n=t.target.closest(o.trigger_element_selector),bxLog("Trigger ~ "+o.trigger_element_selector,n),n&&(BoxxClient.saveInteraction(r,getProperty(n,o.product),o.interaction_type,"",null,function(e,t,n){bxLog(e,t,n)},getExtraProps(n,o.props),o.smtOnly),bxLog("BXS> Click triggered -> "+o.trigger_element_selector))):(bxLog("BXS> trigrlistener listener dying"),document.querySelector("body").removeEventListener(o.trigger_type,e))})},scrapePage=function(e,a){bxLog("BXS> ScrapePAge called");var s=e.productBlock,c=e.props,l=[],p=[],u={},d=[],f=scrape_init.batchSize?parseInt(scrape_init.batchSize):30,h=!!cookieManager.getCookie("forcescrape"),x=function(){var e=Array.prototype.slice.call(document.querySelectorAll(s));if(0===(d=e.splice(a*f,f)).length)setTimeout(x,5e3);else{for(var t=0;t<d.length;++t){var n=d[t];if("true"!==n.getAttribute("data-recoedproduct")){var r={};for(var o in c)try{var i=getProperty(n.closestChild(c[o].selector),c[o].parser);i&&"Array"===(r[o]=i).constructor.name&&(u[o]="list_element")}catch(e){bxErrMan.push({cx:{errAt:"ScrapeConf -> Issue resolving "+o+" selector: "+c[o].selector+" parser: "+c[o].parser},eM:e.message,sT:e.stack},-1<scrape_init.requiredFieldList.indexOf(o)?"warn":"collect")}if(!r.productid||scrape_init.requiredFields&&!scrape_init.requiredFieldList.every(function(e){return r[e]}))continue;scrape_init.localization&&scrape_init.bxLocale&&(r.boxx_locale=scrape_init.bxLocale,r.boxx_parent_id=r.productid,r.productid=r.productid+"_"+scrape_init.bxLocale),n.setAttribute("data-recoedproduct","true"),r.html||-1!==[!1,"false"].indexOf(r.html)||(r.html=n.outerHTML.replace(/<a data-bxtrid(.*)><div class="bxtrackable"><\/div><\/a>/,"").replace(/data-bxrfid="(.*)~`~([\w_()-]+)"/,"")),-1!==[!1,"false"].indexOf(r.html)&&delete r.html,l.push(r.productid),p.push(r),n.removeAttribute("data-recoedproduct")}}BoxxClient.pushProducts(l,p,u,function(e,t,n){var r;bxLog(e,t,n),e||(r={client_id:BOXX_CLIENT_ID,scrape:scrape_init.scrape,scrapePath:scrape_init.scrapePath,batch:a},fetch("//boxx.ai/api/data/batch_track/",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify(r),credentials:"include"}).then(function(e){bxLog(e)}).catch(function(e){bxErrMan.push({cx:{api:"batch_track"},eM:e.message,sT:e.stack},"error")})),200===n.status&&h&&(a+=1,l=[],p=[],u={},setTimeout(x,2e3))})}};evaluateCondition(e.condition)&&!document.querySelector("html").classList.contains("translated-ltr")?x():bxLog("BXS> Scrape condition failed or Page translated")},autoTriggerEvents=function(e,t){bxLog("autoTrigger called");for(var n=[],r=0;r<t.length;++r){var o=t[r];filteringTrackConfigs(o.trackConfig,o.name),filteringTriggerConfigs(o.triggerConfig,e),suspectCheckers(o.suspectConfig,o.name),n=scrapeConfigs(o.scrapeConfig)}bxLog("scrapeConfs",n);var i=scrape_init.scrapeDelay?parseInt(scrape_init.scrapeDelay):3;n.length&&(!scrape_init.localization||scrape_init.bxLocale?setTimeout(function(){n.forEach(function(e){scrapePage(e,scrape_init.batch)})},1e3*i):bxLog("[BOXX~WARN] : NOT Scraping ~ Locale unfound"))};!function i(a,s,c){function l(n,e){if(!s[n]){if(!a[n]){var t="function"==typeof require&&require;if(!e&&t)return t(n,!0);if(p)return p(n,!0);var r=new Error("Cannot find module '"+n+"'");throw r.code="MODULE_NOT_FOUND",r}var o=s[n]={exports:{}};a[n][0].call(o.exports,function(e){var t=a[n][1][e];return l(t||e)},o,o.exports,i,a,s,c)}return s[n].exports}for(var p="function"==typeof require&&require,e=0;e<c.length;e++)l(c[e]);return l}({1:[function(_dereq_,module,exports){var BoxxClient=_dereq_("boxx_client"),boxx={widget:function(t,e,n,r){var o={channel_id:e,userid:n,config:r};o.boxx_token_id=getBoxxTokenId(),fetch("https://boxx.ai/widget/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(o),credentials:"include"}).then(function(e){return e.json()}).then(function(e){e.message?bxLog(e.message):document.getElementById(t).innerHTML=e.data}).catch(function(e){bxErrMan.push({cx:{api:"/widget/"},eM:e.message,sT:e.stack},"error")})},getWidgets:function(userid,config,pageList){bxLog("getWidgets called");for(var wlist=[],pglist=[],z=0,widgetBaseQuery;z<config.length;++z){var wConf=config[z],pname=pageList[z],cond=wConf.condition;if(evaluateCondition(cond))try{var prod=wConf.product,rel_product=processProduct(prod);rel_product&&("String"===rel_product.constructor.name?rel_product=rel_product.split(","):"Array"!==rel_product.constructor.name&&(rel_product=[rel_product]));var exclude=wConf.exclude,exclude_prod=processProduct(exclude);""!==exclude_prod&&void 0!==exclude_prod?"String"===exclude_prod.constructor.name?exclude_prod=exclude_prod.split(","):"Array"!==exclude_prod.constructor.name&&(exclude_prod=[exclude_prod]):exclude_prod=[],wConf.query={related_products:rel_product,exclude:exclude_prod,item_filters:{}},scrape_init.localization&&scrape_init.bxLocale&&(wConf.query.item_filters.boxx_locale=scrape_init.bxLocale);var filter=wConf.filter,filter_key;if(filter)if(scrape_init.parserVersion&&"v1"!==scrape_init.parserVersion)try{var preParsedfilters=JSON.parse(filter),parsedFilters={};for(var each in preParsedfilters){var parsd=v2FilterParser(each,preParsedfilters[each]);for(var parsedFil in parsd)parsedFilters[parsedFil]=parsd[parsedFil]}wConf.query.item_filters=parsedFilters}catch(e){bxErrMan.push({cx:{filter:filter,issue:"Cant parse filter"},eM:e.message,sT:e.stack},"fail")}else if(0===filter.indexOf("{")&&(bxLog("{ in filter"),filter_key=filter.replace(/{/g,"").replace(/}/g,"").split(".")[1],bxLog("[BX_DEBUG] filter_key > `"+filter_key+"`"),wConf.query.item_filters[filter_key]="<<filter>>"),0===filter.indexOf("``"))for(var filters=filter.replace(/`/g,"").split("<|>"),f=0;f<filters.length;++f){var filtr=filters[f];if(0!==filtr.indexOf("{"))if(-1===filtr.indexOf("!=")){var arrOperator="$in",filter_key,filter_val,arrOperator,filter_key,filter_val;try{if(-1!==filtr.indexOf("====")?(filter_key=filtr.split("====")[0].trim(),filter_val=filtr.split("====")[1].trim(),arrOperator="$all"):(filter_key=filtr.split("=")[0].trim(),filter_val=filtr.split("=").slice(1).join("=").trim()),bxLog("[BX_DEBUG] filter_key > `"+filter_key+"`, filter_val before eval `"+filter_val+"`"),filter_val=eval(filter_val),!filter_val)continue;bxLog("[BX_DEBUG] filter_key > `"+filter_key+"`, filter_val after eval `"+filter_val+"`"),"Array"===filter_val.constructor.name?(wConf.query.item_filters[filter_key]={},wConf.query.item_filters[filter_key][arrOperator]=filter_val):wConf.query.item_filters[filter_key]=filter_val}catch(e){bxErrMan.push({cx:{filter:filter},eM:"Cant parse filter >>> "+e.message,sT:e.stack},"fail")}}else try{var filter_key=filtr.split("!=")[0].trim(),filter_val=filtr.split("!=")[1].trim();if(bxLog("[BX_DEBUG] filter_key > `"+filter_key+"`, filter_val before eval `"+filter_val+"`"),filter_val=eval(filter_val),!filter_val)continue;bxLog("[BX_DEBUG] filter_key > `"+filter_key+"`, filter_val after eval `"+filter_val+"`"),"Array"===filter_val.constructor.name?wConf.query.item_filters[filter_key]={$nin:filter_val}:wConf.query.item_filters[filter_key]={$ne:filter_val}}catch(e){bxErrMan.push({cx:{filter:filter},eM:"Cant parse filter >>> "+e.message,sT:e.stack},"fail")}else{bxLog("{ in filtr");var filter_key=filtr.replace(/{/g,"").replace(/}/g,"").split(".")[1];bxLog("[BX_DEBUG] filter_key > `"+filter_key+"`"),wConf.query.item_filters[filter_key]="<<filter>>"}}wConf.onPageFilter&&(wConf.query.item_filters.on_page=scrape_init.scrapePath),bxLog("wConf",wConf),wlist.push(wConf),pglist.push(pname)}catch(e){bxLog(e)}}wlist.length&&(widgetBaseQuery={userid:userid,config:wlist,page:pglist,v2widget:!0},widgetBaseQuery.boxx_token_id=getBoxxTokenId(),fetch(bxRecHost+"/nav/widget",{method:"POST",headers:navTrackHeaders,body:JSON.stringify(widgetBaseQuery),credentials:"include"}).then(function(e){return bxLog(e),e.json()}).then(function(e){bxLog("data",e),e.data!==[]&&e.data.length?e.data.forEach(function(e){processInstanceDict(e)}):bxErrMan.push({cx:{data:e},sT:null,eM:"Widget API returned empty, you may have to publish data (and/or) set primary trans type"},"warn")}).catch(function(e){bxErrMan.push({cx:{api:"wiz > widget"},eM:e.message,sT:e.stack},"error")}))},saveInteraction:function(e,t,n,r,o,i,a,s){var c,l=new BoxxClient.UploadDataApi;"String"===t.constructor.name?c=t.split(","):"Array"!==t.constructor.name&&(c=[t]),bxLog("products",c),bxLog("extraProps",a),"Array"!==a.constructor.name&&(a=new Array(c.length).fill(a));for(var p,u=("BOXX_PURCHASED_PRODUCT_PROPS"in window?BOXX_PURCHASED_PRODUCT_PROPS:new Array(c.length).fill({})),d=[],f=0;f<c.length;f++){bxLog("product",c[f],f,typeof c[f]);var h=c[f].trim();if(boxxSmartechEventDispatcher(n,h,a[f]),!s){h=getLocalePid(h);var x=u[f],y={};try{y.pid=h,y.t=n,y.ts=getTimeStamp(),y.msp=x.msp||0,bxEvExportManager.push(y)}catch(e){bxErrMan.push({cx:{errAt:"saveInteraction >>> trying to cook posData & bxEvExportManager.push"},eM:e.message,sT:e.stack},"fail")}var g=new BoxxClient.ApiuploadtransactionData(h,n,o);g.customerid=getBoxxCustomerId()||e,g.boxx_token_id=getBoxxTokenId(),r&&(g.transactionid=r),g.via="js",g.jsv=scrape_init.jsVersion,g.userType=bxSesMan.vars.userType,g.bxpvid=scrape_init.bxpvid,g.pxpvid=scrape_init.pbxpvid,g.referrer=document.referrer,d.push(g)}}s||(p=new BoxxClient.RequestData2("Vrn","9e3fe697-3c50-4a81-986d-8d135141e582",d),l.apiUploadTransactionPut(p,function(e,t,n){i&&i(e,t,n),n.result&&n.result.fb_interest_groups&&n.result.fb_interest_groups.forEach(function(e){fbq("trackSingleCustom",e.pixelId,e.custom_event,e.event_params)})}))},saveInteractionWithProperties:function(e,t,n,r,o,i,a){for(var s=new BoxxClient.UploadDataApi,c=[],c="string"==typeof t?t.split(","):t,l=[],p=0;p<c.length;p++){var u=c[p].trim(),d=new BoxxClient.ApiuploadtransactionData(u,n,o);d.customerid=getBoxxCustomerId(),d.boxx_token_id=getBoxxTokenId(),r&&(d.transactionid=r),i&&(d.properties=i),l.push(d)}var f=new BoxxClient.RequestData2("Vrn","9e3fe697-3c50-4a81-986d-8d135141e582",l);s.apiUploadTransactionPut(f,function(e,t,n){a(e,t,n)})},saveProduct:function(e,t,n,r,o,i){for(var a=new BoxxClient.UploadDataApi,s=[],s="string"==typeof e?e.split(","):e,c=[],l=0;l<s.length;l++){var p=s[l].trim(),u=new BoxxClient.ApiuploadproductData(p);null!=typeof t&&null!=t||(t={}),null!==typeof t&&"object"==typeof t&&(t._boxx_flag__upload_source="js"),u.properties=t,u.active=n,r&&(u.start_date=r),o&&(u.end_date=o),c.push(u)}var d=new BoxxClient.RequestData1("Vrn","9e3fe697-3c50-4a81-986d-8d135141e582",c);a.apiUploadProductPut(d,function(e,t,n){i(e,t,n)})},pushProducts:function(t,e,n,r){if(t.length){var o=new BoxxClient.UploadDataApi,i=new Date,a=scrape_init.activeFor?parseInt(scrape_init.activeFor):24;i.setHours(i.getHours()+a);for(var s=[],c=n,l=0;l<t.length;l++){try{var p=t[l].trim()}catch(e){p=t[l]}var u=new BoxxClient.ApiuploadproductData(p),d=e[l];d._boxx_flag__upload_source="js",d.on_page=[scrape_init.scrapePath],d.scraped=!0,d.scrapedOn=Date(),u.properties=d,u.active=!1!==d.active||!0===d.active,u.end_date=i.toUTCString(),s.push(u)}bxLog("dataUploads",s);var f=new BoxxClient.RequestData1("Vrn","9e3fe697-3c50-4a81-986d-8d135141e582",s,c);o.apiUploadProductPut(f,function(e,t,n){r(e,t,n)})}else bxLog("No products to push to API")},saveProducts:function(t,e,n,r){if(t.length){for(var o=new BoxxClient.UploadDataApi,i=[],a=n,s=0;s<t.length;s++){try{var c=t[s].trim()}catch(e){c=t[s]}var l=new BoxxClient.ApiuploadproductData(c),p=e[s];p._boxx_flag__upload_source="js",p.on_page=[document.location.href],l.properties=p,i.push(l)}var u=new BoxxClient.RequestData1("Vrn","9e3fe697-3c50-4a81-986d-8d135141e582",i,a);o.apiUploadProductPut(u,function(e,t,n){r(e,t,n)})}},saveCustomer:function(e,t,n,r,o){for(var i=new BoxxClient.UploadDataApi,a=[],a="string"==typeof e?e.split(","):e,s=[],c=0;c<a.length;c++){var l=a[c].trim(),p=new BoxxClient.ApiuploadcustomerData(l);p.properties=t,p.email=n,p.phone=r,s.push(p)}var u=new BoxxClient.RequestData("Vrn","9e3fe697-3c50-4a81-986d-8d135141e582",s);i.apiUploadCustomerPut(u,function(e,t,n){o(e,t,n)})}};window.BoxxClient=boxx},{boxx_client:14}],2:[function(e,t,n){function r(e){if(e)return function(e){for(var t in r.prototype)e[t]=r.prototype[t];return e}(e)}void 0!==t&&(t.exports=r),r.prototype.on=r.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},r.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},r.prototype.off=r.prototype.removeListener=r.prototype.removeAllListeners=r.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,r=this._callbacks["$"+e];if(!r)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var o=0;o<r.length;o++)if((n=r[o])===t||n.fn===t){r.splice(o,1);break}return this},r.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),n=this._callbacks["$"+e];if(n)for(var r=0,o=(n=n.slice(0)).length;r<o;++r)n[r].apply(this,t);return this},r.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},r.prototype.hasListeners=function(e){return!!this.listeners(e).length}},{}],3:[function(e,t,n){var r="undefined"!=typeof window?window:"undefined"!=typeof self?self:(console.warn("Using browser-only version of superagent in non-browser environment"),this),o=e("component-emitter"),i=e("./request-base"),a=e("./is-object"),s=e("./is-function"),c=e("./response-base"),l=e("./should-retry");function p(){}var u=n=t.exports=function(e,t){return"function"==typeof t?new n.Request("GET",e).end(t):1==arguments.length?new n.Request("GET",e):new n.Request(e,t)};n.Request=g,u.getXHR=function(){if(!(!r.XMLHttpRequest||r.location&&"file:"==r.location.protocol&&r.ActiveXObject))return new XMLHttpRequest;try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(e){}throw Error("Browser-only verison of superagent could not find XHR")};var d="".trim?function(e){return e.trim()}:function(e){return e.replace(/(^\s*|\s*$)/g,"")};function f(e){if(!a(e))return e;var t=[];for(var n in e)!function t(n,r,e){if(null!=e)if(Array.isArray(e))e.forEach(function(e){t(n,r,e)});else if(a(e))for(var o in e)t(n,r+"["+o+"]",e[o]);else n.push(encodeURIComponent(r)+"="+encodeURIComponent(e));else null===e&&n.push(encodeURIComponent(r))}(t,n,e[n]);return t.join("&")}function h(e){for(var t,n,r={},o=e.split("&"),i=0,a=o.length;i<a;++i)-1==(n=(t=o[i]).indexOf("="))?r[decodeURIComponent(t)]="":r[decodeURIComponent(t.slice(0,n))]=decodeURIComponent(t.slice(n+1));return r}function x(e){return/[\/+]json\b/.test(e)}function y(e){this.req=e,this.xhr=this.req.xhr,this.text="HEAD"!=this.req.method&&(""===this.xhr.responseType||"text"===this.xhr.responseType)||void 0===this.xhr.responseType?this.xhr.responseText:null,this.statusText=this.req.xhr.statusText;var t=this.xhr.status;1223===t&&(t=204),this._setStatusProperties(t),this.header=this.headers=function(e){var t,n,r,o,i=e.split(/\r?\n/),a={};i.pop();for(var s=0,c=i.length;s<c;++s)t=(n=i[s]).indexOf(":"),r=n.slice(0,t).toLowerCase(),o=d(n.slice(t+1)),a[r]=o;return a}(this.xhr.getAllResponseHeaders()),this.header["content-type"]=this.xhr.getResponseHeader("content-type"),this._setHeaderProperties(this.header),null===this.text&&e._responseType?this.body=this.xhr.response:this.body="HEAD"!=this.req.method?this._parseBody(this.text?this.text:this.xhr.response):null}function g(e,t){var r=this;this._query=this._query||[],this.method=e,this.url=t,this.header={},this._header={},this.on("end",function(){var t,n=null,e=null;try{e=new y(r)}catch(e){return(n=new Error("Parser is unable to parse the response")).parse=!0,n.original=e,r.xhr?(n.rawResponse=void 0===r.xhr.responseType?r.xhr.responseText:r.xhr.response,n.status=r.xhr.status?r.xhr.status:null,n.statusCode=n.status):(n.rawResponse=null,n.status=null),r.callback(n)}r.emit("response",e);try{r._isResponseOK(e)||((t=new Error(e.statusText||"Unsuccessful HTTP response")).original=n,t.response=e,t.status=e.status)}catch(e){t=e}t?r.callback(t,e):r.callback(null,e)})}function b(e,t,n){var r=u("DELETE",e);return"function"==typeof t&&(n=t,t=null),t&&r.send(t),n&&r.end(n),r}u.serializeObject=f,u.parseString=h,u.types={html:"text/html",json:"application/json",xml:"application/xml",urlencoded:"application/x-www-form-urlencoded",form:"application/x-www-form-urlencoded","form-data":"application/x-www-form-urlencoded"},u.serialize={"application/x-www-form-urlencoded":f,"application/json":JSON.stringify},u.parse={"application/x-www-form-urlencoded":h,"application/json":JSON.parse},c(y.prototype),y.prototype._parseBody=function(e){var t=u.parse[this.type];return this.req._parser?this.req._parser(this,e):(!t&&x(this.type)&&(t=u.parse["application/json"]),t&&e&&(e.length||e instanceof Object)?t(e):null)},y.prototype.toError=function(){var e=this.req,t=e.method,n=e.url,r="cannot "+t+" "+n+" ("+this.status+")",o=new Error(r);return o.status=this.status,o.method=t,o.url=n,o},u.Response=y,o(g.prototype),i(g.prototype),g.prototype.type=function(e){return this.set("Content-Type",u.types[e]||e),this},g.prototype.accept=function(e){return this.set("Accept",u.types[e]||e),this},g.prototype.auth=function(e,t,n){switch("object"==typeof t&&null!==t&&(n=t),(n=n||{type:"function"==typeof btoa?"basic":"auto"}).type){case"basic":this.set("Authorization","Basic "+btoa(e+":"+t));break;case"auto":this.username=e,this.password=t;break;case"bearer":this.set("Authorization","Bearer "+e)}return this},g.prototype.query=function(e){return"string"!=typeof e&&(e=f(e)),e&&this._query.push(e),this},g.prototype.attach=function(e,t,n){if(t){if(this._data)throw Error("superagent can't mix .send() and .attach()");this._getFormData().append(e,t,n||t.name)}return this},g.prototype._getFormData=function(){return this._formData||(this._formData=new r.FormData),this._formData},g.prototype.callback=function(e,t){if(this._maxRetries&&this._retries++<this._maxRetries&&l(e,t))return this._retry();var n=this._callback;this.clearTimeout(),e&&(this._maxRetries&&(e.retries=this._retries-1),this.emit("error",e)),n(e,t)},g.prototype.crossDomainError=function(){var e=new Error("Request has been terminated\nPossible causes: the network is offline, Origin is not allowed by Access-Control-Allow-Origin, the page is being unloaded, etc.");e.crossDomain=!0,e.status=this.status,e.method=this.method,e.url=this.url,this.callback(e)},g.prototype.buffer=g.prototype.ca=g.prototype.agent=function(){return console.warn("This is not supported in browser version of superagent"),this},g.prototype.pipe=g.prototype.write=function(){throw Error("Streaming is not supported in browser version of superagent")},g.prototype._appendQueryString=function(){var e,t,n=this._query.join("&");n&&(this.url+=(0<=this.url.indexOf("?")?"&":"?")+n),!this._sort||0<=(e=this.url.indexOf("?"))&&(t=this.url.substring(e+1).split("&"),s(this._sort)?t.sort(this._sort):t.sort(),this.url=this.url.substring(0,e)+"?"+t.join("&"))},g.prototype._isHost=function(e){return e&&"object"==typeof e&&!Array.isArray(e)&&"[object Object]"!==Object.prototype.toString.call(e)},g.prototype.end=function(e){return this._endCalled&&console.warn("Warning: .end() was called twice. This is not supported in superagent"),this._endCalled=!0,this._callback=e||p,this._appendQueryString(),this._end()},g.prototype._end=function(){var n=this,r=this.xhr=u.getXHR(),e=this._formData||this._data;this._setTimeouts(),r.onreadystatechange=function(){var t,e=r.readyState;if(2<=e&&n._responseTimeoutTimer&&clearTimeout(n._responseTimeoutTimer),4==e){try{t=r.status}catch(e){t=0}if(!t){if(n.timedout||n._aborted)return;return n.crossDomainError()}n.emit("end")}};function t(e,t){0<t.total&&(t.percent=t.loaded/t.total*100),t.direction=e,n.emit("progress",t)}var o,i;if(this.hasListeners("progress"))try{r.onprogress=t.bind(null,"download"),r.upload&&(r.upload.onprogress=t.bind(null,"upload"))}catch(e){}try{this.username&&this.password?r.open(this.method,this.url,!0,this.username,this.password):r.open(this.method,this.url,!0)}catch(e){return this.callback(e)}for(var a in this._withCredentials&&(r.withCredentials=!0),this._formData||"GET"==this.method||"HEAD"==this.method||"string"==typeof e||this._isHost(e)||(o=this._header["content-type"],!(i=this._serializer||u.serialize[o?o.split(";")[0]:""])&&x(o)&&(i=u.serialize["application/json"]),i&&(e=i(e))),this.header)null!=this.header[a]&&this.header.hasOwnProperty(a)&&r.setRequestHeader(a,this.header[a]);return this._responseType&&(r.responseType=this._responseType),this.emit("request",this),r.send(void 0!==e?e:null),this},u.get=function(e,t,n){var r=u("GET",e);return"function"==typeof t&&(n=t,t=null),t&&r.query(t),n&&r.end(n),r},u.head=function(e,t,n){var r=u("HEAD",e);return"function"==typeof t&&(n=t,t=null),t&&r.send(t),n&&r.end(n),r},u.options=function(e,t,n){var r=u("OPTIONS",e);return"function"==typeof t&&(n=t,t=null),t&&r.send(t),n&&r.end(n),r},u.del=b,u.delete=b,u.patch=function(e,t,n){var r=u("PATCH",e);return"function"==typeof t&&(n=t,t=null),t&&r.send(t),n&&r.end(n),r},u.post=function(e,t,n){var r=u("POST",e);return"function"==typeof t&&(n=t,t=null),t&&r.send(t),n&&r.end(n),r},u.put=function(e,t,n){var r=u("PUT",e);return"function"==typeof t&&(n=t,t=null),t&&r.send(t),n&&r.end(n),r}},{"./is-function":4,"./is-object":5,"./request-base":6,"./response-base":7,"./should-retry":8,"component-emitter":2}],4:[function(e,t,n){var r=e("./is-object");t.exports=function(e){return"[object Function]"===(r(e)?Object.prototype.toString.call(e):"")}},{"./is-object":5}],5:[function(e,t,n){t.exports=function(e){return null!==e&&"object"==typeof e}},{}],6:[function(e,t,n){var o=e("./is-object");function r(e){if(e)return function(e){for(var t in r.prototype)e[t]=r.prototype[t];return e}(e)}(t.exports=r).prototype.clearTimeout=function(){return clearTimeout(this._timer),clearTimeout(this._responseTimeoutTimer),delete this._timer,delete this._responseTimeoutTimer,this},r.prototype.parse=function(e){return this._parser=e,this},r.prototype.responseType=function(e){return this._responseType=e,this},r.prototype.serialize=function(e){return this._serializer=e,this},r.prototype.timeout=function(e){if(!e||"object"!=typeof e)return this._timeout=e,this._responseTimeout=0,this;for(var t in e)switch(t){case"deadline":this._timeout=e.deadline;break;case"response":this._responseTimeout=e.response;break;default:console.warn("Unknown timeout option",t)}return this},r.prototype.retry=function(e){return 0!==arguments.length&&!0!==e||(e=1),e<=0&&(e=0),this._maxRetries=e,this._retries=0,this},r.prototype._retry=function(){return this.clearTimeout(),this.req&&(this.req=null,this.req=this.request()),this._aborted=!1,this.timedout=!1,this._end()},r.prototype.then=function(e,t){var o;return this._fullfilledPromise||((o=this)._endCalled&&console.warn("Warning: superagent request was sent twice, because both .end() and .then() were called. Never call .end() if you use promises"),this._fullfilledPromise=new Promise(function(n,r){o.end(function(e,t){e?r(e):n(t)})})),this._fullfilledPromise.then(e,t)},r.prototype.catch=function(e){return this.then(void 0,e)},r.prototype.use=function(e){return e(this),this},r.prototype.ok=function(e){if("function"!=typeof e)throw Error("Callback required");return this._okCallback=e,this},r.prototype._isResponseOK=function(e){return!!e&&(this._okCallback?this._okCallback(e):200<=e.status&&e.status<300)},r.prototype.getHeader=r.prototype.get=function(e){return this._header[e.toLowerCase()]},r.prototype.set=function(e,t){if(o(e)){for(var n in e)this.set(n,e[n]);return this}return this._header[e.toLowerCase()]=t,this.header[e]=t,this},r.prototype.unset=function(e){return delete this._header[e.toLowerCase()],delete this.header[e],this},r.prototype.field=function(e,t){if(null==e)throw new Error(".field(name, val) name can not be empty");if(this._data&&console.error(".field() can't be used if .send() is used. Please use only .send() or only .field() & .attach()"),o(e)){for(var n in e)this.field(n,e[n]);return this}if(Array.isArray(t)){for(var r in t)this.field(e,t[r]);return this}if(null==t)throw new Error(".field(name, val) val can not be empty");return"boolean"==typeof t&&(t=""+t),this._getFormData().append(e,t),this},r.prototype.abort=function(){return this._aborted||(this._aborted=!0,this.xhr&&this.xhr.abort(),this.req&&this.req.abort(),this.clearTimeout(),this.emit("abort")),this},r.prototype.withCredentials=function(e){return null==e&&(e=!0),this._withCredentials=e,this},r.prototype.redirects=function(e){return this._maxRedirects=e,this},r.prototype.toJSON=function(){return{method:this.method,url:this.url,data:this._data,headers:this._header}},r.prototype.send=function(e){var t=o(e),n=this._header["content-type"];if(this._formData&&console.error(".send() can't be used if .attach() or .field() is used. Please use only .send() or only .field() & .attach()"),t&&!this._data)Array.isArray(e)?this._data=[]:this._isHost(e)||(this._data={});else if(e&&this._data&&this._isHost(this._data))throw Error("Can't merge these send calls");if(t&&o(this._data))for(var r in e)this._data[r]=e[r];else"string"==typeof e?(n||this.type("form"),n=this._header["content-type"],this._data="application/x-www-form-urlencoded"==n?this._data?this._data+"&"+e:e:(this._data||"")+e):this._data=e;return!t||this._isHost(e)||n||this.type("json"),this},r.prototype.sortQuery=function(e){return this._sort=void 0===e||e,this},r.prototype._timeoutError=function(e,t,n){var r;this._aborted||((r=new Error(e+t+"ms exceeded")).timeout=t,r.code="ECONNABORTED",r.errno=n,this.timedout=!0,this.abort(),this.callback(r))},r.prototype._setTimeouts=function(){var e=this;this._timeout&&!this._timer&&(this._timer=setTimeout(function(){e._timeoutError("Timeout of ",e._timeout,"ETIME")},this._timeout)),this._responseTimeout&&!this._responseTimeoutTimer&&(this._responseTimeoutTimer=setTimeout(function(){e._timeoutError("Response timeout of ",e._responseTimeout,"ETIMEDOUT")},this._responseTimeout))}},{"./is-object":5}],7:[function(e,t,n){var o=e("./utils");function r(e){if(e)return function(e){for(var t in r.prototype)e[t]=r.prototype[t];return e}(e)}(t.exports=r).prototype.get=function(e){return this.header[e.toLowerCase()]},r.prototype._setHeaderProperties=function(e){var t=e["content-type"]||"";this.type=o.type(t);var n=o.params(t);for(var r in n)this[r]=n[r];this.links={};try{e.link&&(this.links=o.parseLinks(e.link))}catch(e){}},r.prototype._setStatusProperties=function(e){var t=e/100|0;this.status=this.statusCode=e,this.statusType=t,this.info=1==t,this.ok=2==t,this.redirect=3==t,this.clientError=4==t,this.serverError=5==t,this.error=(4==t||5==t)&&this.toError(),this.accepted=202==e,this.noContent=204==e,this.badRequest=400==e,this.unauthorized=401==e,this.notAcceptable=406==e,this.forbidden=403==e,this.notFound=404==e}},{"./utils":9}],8:[function(e,t,n){var r=["ECONNRESET","ETIMEDOUT","EADDRINFO","ESOCKETTIMEDOUT"];t.exports=function(e,t){return!!(e&&e.code&&~r.indexOf(e.code))||(!!(t&&t.status&&500<=t.status)||(!!(e&&"timeout"in e&&"ECONNABORTED"==e.code)||!!(e&&"crossDomain"in e)))}},{}],9:[function(e,t,n){n.type=function(e){return e.split(/ *; */).shift()},n.params=function(e){return e.split(/ *; */).reduce(function(e,t){var n=t.split(/ *= */),r=n.shift(),o=n.shift();return r&&o&&(e[r]=o),e},{})},n.parseLinks=function(e){return e.split(/ *, */).reduce(function(e,t){var n=t.split(/ *; */),r=n[0].slice(1,-1);return e[n[1].split(/ *= */)[1].slice(1,-1)]=r,e},{})},n.cleanHeader=function(e,t){return delete e["content-type"],delete e["content-length"],delete e["transfer-encoding"],delete e.host,t&&delete e.cookie,e}},{}],10:[function(r,o,e){(function(n){var e,t;e=this,t=function(m,v){"use strict";function l(){this.basePath=bxUploadHost.replace(/\/+$/,""),this.authentications={},this.defaultHeaders={},this.timeout=6e4,this.cache=!0,this.enableCookies=!0,"undefined"==typeof window&&(this.agent=new m.agent)}return l.prototype.paramToString=function(e){return null==e||null==e?"":e instanceof Date?e.toJSON():e.toString()},l.prototype.buildUrl=function(e,r){e.match(/^\//)||(e="/"+e);var t=this.basePath+e,o=this;return t=t.replace(/\{([\w-]+)\}/g,function(e,t){var n=r.hasOwnProperty(t)?o.paramToString(r[t]):e;return encodeURIComponent(n)})},l.prototype.isJsonMime=function(e){return Boolean(null!=e&&e.match(/^application\/json(;.*)?$/i))},l.prototype.jsonPreferredMime=function(e){for(var t=0;t<e.length;t++)if(this.isJsonMime(e[t]))return e[t];return e[0]},l.prototype.isFileParam=function(e){if("function"==typeof r){var t;try{t=r("fs")}catch(e){}if(t&&t.ReadStream&&e instanceof t.ReadStream)return!0}return"function"==typeof n&&e instanceof n||("function"==typeof Blob&&e instanceof Blob||"function"==typeof File&&e instanceof File)},l.prototype.normalizeParams=function(e){var t,n={};for(var r in e){e.hasOwnProperty(r)&&null!=e[r]&&null!=e[r]&&(t=e[r],this.isFileParam(t)||Array.isArray(t)?n[r]=t:n[r]=this.paramToString(t))}return n},l.CollectionFormatEnum={CSV:",",SSV:" ",TSV:"\t",PIPES:"|",MULTI:"multi"},l.prototype.buildCollectionParam=function(e,t){if(null==e)return null;switch(t){case"csv":return e.map(this.paramToString).join(",");case"ssv":return e.map(this.paramToString).join(" ");case"tsv":return e.map(this.paramToString).join("\t");case"pipes":return e.map(this.paramToString).join("|");case"multi":return e.map(this.paramToString);default:throw new Error("Unknown collection format: "+t)}},l.prototype.applyAuthToRequest=function(r,e){var o=this;e.forEach(function(e){var t,n=o.authentications[e];switch(n.type){case"basic":(n.username||n.password)&&r.auth(n.username||"",n.password||"");break;case"apiKey":n.apiKey&&(t={},n.apiKeyPrefix?t[n.name]=n.apiKeyPrefix+" "+n.apiKey:t[n.name]=n.apiKey,"header"===n.in?r.set(t):r.query(t));break;case"oauth2":n.accessToken&&r.set({Authorization:"Bearer "+n.accessToken});break;default:throw new Error("Unknown authentication type: "+n.type)}})},l.prototype.deserialize=function(e,t){if(null==e||null==t||204==e.status)return null;var n=e.body;return null!=n&&("object"!=typeof n||void 0!==n.length||Object.keys(n).length)||(n=e.text),l.convertToType(n,t)},l.prototype.callApi=function(e,t,n,r,o,i,a,s,c,l,p,u){var d=this,f=this.buildUrl(e,n),h=m(t,f);this.applyAuthToRequest(h,s),"GET"===t.toUpperCase()&&!1===this.cache&&(r._=(new Date).getTime()),h.query(this.normalizeParams(r)),h.set(this.defaultHeaders).set(this.normalizeParams(o)),h.timeout(this.timeout);var x=this.jsonPreferredMime(c);if(x?"multipart/form-data"!=x&&h.type(x):h.header["Content-Type"]||h.type("application/json"),"application/x-www-form-urlencoded"===x)h.send(v.stringify(this.normalizeParams(i)));else if("multipart/form-data"==x){var y=this.normalizeParams(i);for(var g in y)y.hasOwnProperty(g)&&(this.isFileParam(y[g])?h.attach(g,y[g]):h.field(g,y[g]))}else a&&h.send(a);var b=this.jsonPreferredMime(l);return b&&h.accept(b),"Blob"===p?h.responseType("blob"):"String"===p&&h.responseType("string"),this.enableCookies&&("undefined"==typeof window?this.agent.attachCookies(h):h.withCredentials()),h.end(function(t,e){if(u){var n=null;if(!t)try{n=d.deserialize(e,p),d.enableCookies&&"undefined"==typeof window&&d.agent.saveCookies(e)}catch(e){t=e}u(t,n,e)}}),h},l.parseDate=function(e){return new Date(e.replace(/T/i," "))},l.convertToType=function(e,t){if(null==e)return e;switch(t){case"Boolean":return Boolean(e);case"Integer":return parseInt(e,10);case"Number":return parseFloat(e);case"String":return String(e);case"Date":return this.parseDate(String(e));case"Blob":return e;default:if(t===Object)return e;if("function"==typeof t)return t.constructFromObject(e);if(Array.isArray(t)){var n=t[0];return e.map(function(e){return l.convertToType(e,n)})}if("object"!=typeof t)return e;var r,o;for(var i in t)if(t.hasOwnProperty(i)){o=t[r=i];break}var a,s,c={};for(var i in e){e.hasOwnProperty(i)&&(a=l.convertToType(i,r),s=l.convertToType(e[i],o),c[a]=s)}return c}},l.constructFromObject=function(e,t,n){if(Array.isArray(e))for(var r=0;r<e.length;r++)e.hasOwnProperty(r)&&(t[r]=l.convertToType(e[r],n));else for(var o in e)e.hasOwnProperty(o)&&(t[o]=l.convertToType(e[o],n))},l.instance=new l,l},"function"==typeof ddefine&&ddefine.amd?ddefine(["superagent","querystring"],t):"object"==typeof o&&o.exports?o.exports=t(r("superagent"),r("querystring")):(e.BoxxClient||(e.BoxxClient={}),e.BoxxClient.ApiClient=t(e.superagent,e.querystring))}).call(this,r("buffer").Buffer)},{buffer:43,fs:41,querystring:47,superagent:3}],11:[function(e,t,n){var r,o;r=this,o=function(t,r,e,n){"use strict";return function(e){this.apiClient=e||t.instance,this.apiDataAlldeleteDelete=function(e,t){var n=e;if(null==e)throw new Error("Missing the required parameter 'requestData' when calling apiDataAlldeleteDelete");return this.apiClient.callApi("/api/data/alldelete/","DELETE",{},{},{},{},n,[],["application/json"],["application/json"],r,t)}}},"function"==typeof ddefine&&ddefine.amd?ddefine(["ApiClient","model/InlineResponse2002","model/InlineResponse4001","model/RequestData4"],o):"object"==typeof t&&t.exports?t.exports=o(e("../ApiClient"),e("../model/InlineResponse2002"),e("../model/InlineResponse4001"),e("../model/RequestData4")):(r.BoxxClient||(r.BoxxClient={}),r.BoxxClient.DeleteAllApi=o(r.BoxxClient.ApiClient,r.BoxxClient.InlineResponse2002,r.BoxxClient.InlineResponse4001,r.BoxxClient.RequestData4))},{"../ApiClient":10,"../model/InlineResponse2002":24,"../model/InlineResponse4001":28,"../model/RequestData4":33}],12:[function(e,t,n){var r,o;r=this,o=function(t,r,e,n){"use strict";return function(e){this.apiClient=e||t.instance,this.apiDataDeleteDelete=function(e,t){var n=e;if(null==e)throw new Error("Missing the required parameter 'requestData' when calling apiDataDeleteDelete");return this.apiClient.callApi("/api/data/delete/","DELETE",{},{},{},{},n,[],["application/json"],["application/json"],r,t)}}},"function"==typeof ddefine&&ddefine.amd?ddefine(["ApiClient","model/InlineResponse2001","model/InlineResponse4001","model/RequestData3"],o):"object"==typeof t&&t.exports?t.exports=o(e("../ApiClient"),e("../model/InlineResponse2001"),e("../model/InlineResponse4001"),e("../model/RequestData3")):(r.BoxxClient||(r.BoxxClient={}),r.BoxxClient.DeleteSpecificApi=o(r.BoxxClient.ApiClient,r.BoxxClient.InlineResponse2001,r.BoxxClient.InlineResponse4001,r.BoxxClient.RequestData3))},{"../ApiClient":10,"../model/InlineResponse2001":22,"../model/InlineResponse4001":28,"../model/RequestData3":32}],13:[function(e,t,n){var r,o;r=this,o=function(t,r,e,n,o,i){"use strict";return function(e){this.apiClient=e||t.instance,this.apiUploadCustomerPut=function(e,t){var n=e;if(null==e)throw new Error("Missing the required parameter 'requestData' when calling apiUploadCustomerPut");return this.apiClient.callApi("/customer/","PUT",{},{},{},{},n,[],["application/json"],["application/json"],r,t)},this.apiUploadProductPut=function(e,t){var n=e;if(null==e)throw new Error("Missing the required parameter 'requestData' when calling apiUploadProductPut");return this.apiClient.callApi("/product/","PUT",{},{},{},{},n,[],["application/json"],["application/json"],r,t)},this.apiUploadTransactionPut=function(e,t){var n=e;if(null==e)throw new Error("Missing the required parameter 'requestData' when calling apiUploadTransactionPut");return this.apiClient.callApi("/transaction/","PUT",{},{},{},{},n,[],["application/json"],["application/json"],r,t)}}},"function"==typeof ddefine&&ddefine.amd?ddefine(["ApiClient","model/InlineResponse200","model/InlineResponse400","model/RequestData","model/RequestData1","model/RequestData2"],o):"object"==typeof t&&t.exports?t.exports=o(e("../ApiClient"),e("../model/InlineResponse200"),e("../model/InlineResponse400"),e("../model/RequestData"),e("../model/RequestData1"),e("../model/RequestData2")):(r.BoxxClient||(r.BoxxClient={}),r.BoxxClient.UploadDataApi=o(r.BoxxClient.ApiClient,r.BoxxClient.InlineResponse200,r.BoxxClient.InlineResponse400,r.BoxxClient.RequestData,r.BoxxClient.RequestData1,r.BoxxClient.RequestData2))},{"../ApiClient":10,"../model/InlineResponse200":21,"../model/InlineResponse400":27,"../model/RequestData":29,"../model/RequestData1":30,"../model/RequestData2":31}],14:[function(e,t,n){var r;r=function(e,t,n,r,o,i,a,s,c,l,p,u,d,f,h,x,y,g,b,m,v,_,w,C,T,k,E,S,B,A){"use strict";return{ApiClient:e,ApiuploadcustomerData:t,ApiuploadcustomerDeviceTokens:n,ApiuploadproductData:r,ApiuploadtransactionData:o,DeleteAll:i,DeleteSpecific:a,InlineResponse200:s,InlineResponse2001:c,InlineResponse2001Response:l,InlineResponse2002:p,InlineResponse2002Response:u,InlineResponse200Result:d,InlineResponse400:f,InlineResponse4001:h,RequestData:x,RequestData1:y,RequestData2:g,RequestData3:b,RequestData4:m,UploadCustomer:v,UploadCustomerRequest:_,UploadOkResponse:w,UploadProduct:C,UploadProductRequest:T,UploadTransaction:k,UploadTransactionRequest:E,DeleteAllApi:S,DeleteSpecificApi:B,UploadDataApi:A,saveInteraction:function(e,t,n,r,o,i){var a=new A,s=[],s="string"==typeof t?t.split(","):t;bxLog("other products",s);for(var c=[],l=0;l<s.length;l++){bxLog("other product",s[l],l,typeof s[l]);var p=s[l].trim(),u=new BoxxClient.ApiuploadtransactionData(p,n,o);e&&(u.customerid=e),r&&(u.transactionid=r),c.push(u)}var d=new BoxxClient.RequestData2("Vrn","9e3fe697-3c50-4a81-986d-8d135141e582",c);a.apiUploadTransactionPut(d,function(e,t,n){i(e,t,n)})},saveProduct:function(e,t,n,r,o,i){for(var a=new BoxxClient.UploadDataApi,s=[],s="string"==typeof e?e.split(","):e,c=[],l=0;l<s.length;l++){var p=s[l].trim(),u=new BoxxClient.ApiuploadproductData(p);null!=typeof t&&null!=t||(t={}),null!==typeof t&&"object"==typeof t&&(t._boxx_flag__upload_source="js"),u.properties=t,u.active=n,r&&(u.start_date=r),o&&(u.end_date=o),c.push(u)}var d=new BoxxClient.RequestData1("Vrn","9e3fe697-3c50-4a81-986d-8d135141e582",c);a.apiUploadProductPut(d,function(e,t,n){i(e,t,n)})},saveCustomer:function(e,t,n,r,o){for(var i=new BoxxClient.UploadDataApi,a=[],a="string"==typeof e?e.split(","):e,s=[],c=0;c<a.length;c++){var l=a[c].trim(),p=new BoxxClient.ApiuploadcustomerData(l);p.properties=t,p.email=n,p.phone=r,s.push(p)}var u=new BoxxClient.RequestData("Vrn","9e3fe697-3c50-4a81-986d-8d135141e582",s);i.apiUploadCustomerPut(u,function(e,t,n){o(e,t,n)})}}},"function"==typeof ddefine&&ddefine.amd?ddefine(["ApiClient","model/ApiuploadcustomerData","model/ApiuploadcustomerDeviceTokens","model/ApiuploadproductData","model/ApiuploadtransactionData","model/DeleteAll","model/DeleteSpecific","model/InlineResponse200","model/InlineResponse2001","model/InlineResponse2001Response","model/InlineResponse2002","model/InlineResponse2002Response","model/InlineResponse200Result","model/InlineResponse400","model/InlineResponse4001","model/RequestData","model/RequestData1","model/RequestData2","model/RequestData3","model/RequestData4","model/UploadCustomer","model/UploadCustomerRequest","model/UploadOkResponse","model/UploadProduct","model/UploadProductRequest","model/UploadTransaction","model/UploadTransactionRequest","api/DeleteAllApi","api/DeleteSpecificApi","api/UploadDataApi"],r):"object"==typeof t&&t.exports&&(t.exports=r(e("./ApiClient"),e("./model/ApiuploadcustomerData"),e("./model/ApiuploadcustomerDeviceTokens"),e("./model/ApiuploadproductData"),e("./model/ApiuploadtransactionData"),e("./model/DeleteAll"),e("./model/DeleteSpecific"),e("./model/InlineResponse200"),e("./model/InlineResponse2001"),e("./model/InlineResponse2001Response"),e("./model/InlineResponse2002"),e("./model/InlineResponse2002Response"),e("./model/InlineResponse200Result"),e("./model/InlineResponse400"),e("./model/InlineResponse4001"),e("./model/RequestData"),e("./model/RequestData1"),e("./model/RequestData2"),e("./model/RequestData3"),e("./model/RequestData4"),e("./model/UploadCustomer"),e("./model/UploadCustomerRequest"),e("./model/UploadOkResponse"),e("./model/UploadProduct"),e("./model/UploadProductRequest"),e("./model/UploadTransaction"),e("./model/UploadTransactionRequest"),e("./api/DeleteAllApi"),e("./api/DeleteSpecificApi"),e("./api/UploadDataApi")))},{"./ApiClient":10,"./api/DeleteAllApi":11,"./api/DeleteSpecificApi":12,"./api/UploadDataApi":13,"./model/ApiuploadcustomerData":15,"./model/ApiuploadcustomerDeviceTokens":16,"./model/ApiuploadproductData":17,"./model/ApiuploadtransactionData":18,"./model/DeleteAll":19,"./model/DeleteSpecific":20,"./model/InlineResponse200":21,"./model/InlineResponse2001":22,"./model/InlineResponse2001Response":23,"./model/InlineResponse2002":24,"./model/InlineResponse2002Response":25,"./model/InlineResponse200Result":26,"./model/InlineResponse400":27,"./model/InlineResponse4001":28,"./model/RequestData":29,"./model/RequestData1":30,"./model/RequestData2":31,"./model/RequestData3":32,"./model/RequestData4":33,"./model/UploadCustomer":34,"./model/UploadCustomerRequest":35,"./model/UploadOkResponse":36,"./model/UploadProduct":37,"./model/UploadProductRequest":38,"./model/UploadTransaction":39,"./model/UploadTransactionRequest":40}],15:[function(e,t,n){var r,o;r=this,o=function(n,r){"use strict";function o(e){this.customerid=e}return o.constructFromObject=function(e,t){return e&&(t=t||new o,e.hasOwnProperty("customerid")&&(t.customerid=n.convertToType(e.customerid,"String")),e.hasOwnProperty("properties")&&(t.properties=n.convertToType(e.properties,{String:Object})),e.hasOwnProperty("email")&&(t.email=n.convertToType(e.email,"String")),e.hasOwnProperty("phone")&&(t.phone=n.convertToType(e.phone,"String")),e.hasOwnProperty("location")&&(t.location=n.convertToType(e.location,["String"])),e.hasOwnProperty("device_tokens")&&(t.device_tokens=n.convertToType(e.device_tokens,[r]))),t},o.prototype.customerid=void 0,o.prototype.properties=void 0,o.prototype.email=void 0,o.prototype.phone=void 0,o.prototype.location=void 0,o.prototype.device_tokens=void 0,o},"function"==typeof ddefine&&ddefine.amd?ddefine(["ApiClient","model/ApiuploadcustomerDeviceTokens"],o):"object"==typeof t&&t.exports?t.exports=o(e("../ApiClient"),e("./ApiuploadcustomerDeviceTokens")):(r.BoxxClient||(r.BoxxClient={}),r.BoxxClient.ApiuploadcustomerData=o(r.BoxxClient.ApiClient,r.BoxxClient.ApiuploadcustomerDeviceTokens))},{"../ApiClient":10,"./ApiuploadcustomerDeviceTokens":16}],16:[function(e,t,n){var r,o;r=this,o=function(n){"use strict";function r(){}return r.constructFromObject=function(e,t){return e&&(t=t||new r,e.hasOwnProperty("endpoint")&&(t.endpoint=n.convertToType(e.endpoint,"String")),e.hasOwnProperty("p256dh")&&(t.p256dh=n.convertToType(e.p256dh,"String")),e.hasOwnProperty("auth")&&(t.auth=n.convertToType(e.auth,"String")),e.hasOwnProperty("browser")&&(t.browser=n.convertToType(e.browser,"String"))),t},r.prototype.endpoint=void 0,r.prototype.p256dh=void 0,r.prototype.auth=void 0,r.prototype.browser=void 0,r},"function"==typeof ddefine&&ddefine.amd?ddefine(["ApiClient"],o):"object"==typeof t&&t.exports?t.exports=o(e("../ApiClient")):(r.BoxxClient||(r.BoxxClient={}),r.BoxxClient.ApiuploadcustomerDeviceTokens=o(r.BoxxClient.ApiClient))},{"../ApiClient":10}],17:[function(e,t,n){var r,o;r=this,o=function(n){"use strict";function r(e){this.productid=e}return r.constructFromObject=function(e,t){return e&&(t=t||new r,e.hasOwnProperty("productid")&&(t.productid=n.convertToType(e.productid,"String")),e.hasOwnProperty("active")&&(t.active=n.convertToType(e.active,"Boolean")),e.hasOwnProperty("start_date")&&(t.start_date=n.convertToType(e.start_date,"String")),e.hasOwnProperty("end_date")&&(t.end_date=n.convertToType(e.end_date,"String")),e.hasOwnProperty("location")&&(t.location=n.convertToType(e.location,["String"])),e.hasOwnProperty("properties")&&(t.properties=n.convertToType(e.properties,{String:Object}))),t},r.prototype.productid=void 0,r.prototype.active=!1,r.prototype.start_date=void 0,r.prototype.end_date=void 0,r.prototype.location=void 0,r.prototype.properties=void 0,r},"function"==typeof ddefine&&ddefine.amd?ddefine(["ApiClient"],o):"object"==typeof t&&t.exports?t.exports=o(e("../ApiClient")):(r.BoxxClient||(r.BoxxClient={}),r.BoxxClient.ApiuploadproductData=o(r.BoxxClient.ApiClient))},{"../ApiClient":10}],18:[function(e,t,n){var r,o;r=this,o=function(n){"use strict";function r(e,t,n){this.productid=e,this.type=t,this.transactiondate=n}return r.constructFromObject=function(e,t){return e&&(t=t||new r,e.hasOwnProperty("customerid")&&(t.customerid=n.convertToType(e.customerid,"String")),e.hasOwnProperty("cookieid")&&(t.cookieid=n.convertToType(e.cookieid,"String")),e.hasOwnProperty("properties")&&(t.properties=n.convertToType(e.properties,{String:Object})),e.hasOwnProperty("transactionid")&&(t.transactionid=n.convertToType(e.transactionid,"String")),e.hasOwnProperty("productid")&&(t.productid=n.convertToType(e.productid,"String")),e.hasOwnProperty("type")&&(t.type=n.convertToType(e.type,"String")),e.hasOwnProperty("transactiondate")&&(t.transactiondate=n.convertToType(e.transactiondate,"String")),e.hasOwnProperty("location")&&(t.location=n.convertToType(e.location,["String"]))),t},r.prototype.customerid=void 0,r.prototype.cookieid=void 0,r.prototype.properties=void 0,r.prototype.transactionid=void 0,r.prototype.productid=void 0,r.prototype.type=void 0,r.prototype.transactiondate=void 0,r.prototype.location=void 0,r},"function"==typeof ddefine&&ddefine.amd?ddefine(["ApiClient"],o):"object"==typeof t&&t.exports?t.exports=o(e("../ApiClient")):(r.BoxxClient||(r.BoxxClient={}),r.BoxxClient.ApiuploadtransactionData=o(r.BoxxClient.ApiClient))},{"../ApiClient":10}],19:[function(e,t,n){var r,o;r=this,o=function(n){"use strict";function r(e,t,n){this.client_id=e,this.access_token=t,this.data_type=n}return r.constructFromObject=function(e,t){return e&&(t=t||new r,e.hasOwnProperty("client_id")&&(t.client_id=n.convertToType(e.client_id,"String")),e.hasOwnProperty("access_token")&&(t.access_token=n.convertToType(e.access_token,"String")),e.hasOwnProperty("data_type")&&(t.data_type=n.convertToType(e.data_type,"String"))),t},r.prototype.client_id=void 0,r.prototype.access_token=void 0,r.prototype.data_type=void 0,r},"function"==typeof ddefine&&ddefine.amd?ddefine(["ApiClient"],o):"object"==typeof t&&t.exports?t.exports=o(e("../ApiClient")):(r.BoxxClient||(r.BoxxClient={}),r.BoxxClient.DeleteAll=o(r.BoxxClient.ApiClient))},{"../ApiClient":10}],20:[function(e,t,n){var r,o;r=this,o=function(n){"use strict";function r(e,t,n,r){this.client_id=e,this.access_token=t,this.data_type=n,this.data=r}return r.constructFromObject=function(e,t){return e&&(t=t||new r,e.hasOwnProperty("client_id")&&(t.client_id=n.convertToType(e.client_id,"String")),e.hasOwnProperty("access_token")&&(t.access_token=n.convertToType(e.access_token,"String")),e.hasOwnProperty("data_type")&&(t.data_type=n.convertToType(e.data_type,"String")),e.hasOwnProperty("data")&&(t.data=n.convertToType(e.data,["String"]))),t},r.prototype.client_id=void 0,r.prototype.access_token=void 0,r.prototype.data_type=void 0,r.prototype.data=void 0,r},"function"==typeof ddefine&&ddefine.amd?ddefine(["ApiClient"],o):"object"==typeof t&&t.exports?t.exports=o(e("../ApiClient")):(r.BoxxClient||(r.BoxxClient={}),r.BoxxClient.DeleteSpecific=o(r.BoxxClient.ApiClient))},{"../ApiClient":10}],21:[function(e,t,n){var r,o;r=this,o=function(n,r){"use strict";function o(){}return o.constructFromObject=function(e,t){return e&&(t=t||new o,e.hasOwnProperty("status")&&(t.status=n.convertToType(e.status,"Number")),e.hasOwnProperty("result")&&(t.result=r.constructFromObject(e.result))),t},o.prototype.status=void 0,o.prototype.result=void 0,o},"function"==typeof ddefine&&ddefine.amd?ddefine(["ApiClient","model/InlineResponse200Result"],o):"object"==typeof t&&t.exports?t.exports=o(e("../ApiClient"),e("./InlineResponse200Result")):(r.BoxxClient||(r.BoxxClient={}),r.BoxxClient.InlineResponse200=o(r.BoxxClient.ApiClient,r.BoxxClient.InlineResponse200Result))},{"../ApiClient":10,"./InlineResponse200Result":26}],22:[function(e,t,n){var r,o;r=this,o=function(n,r){"use strict";function o(){}return o.constructFromObject=function(e,t){return e&&(t=t||new o,e.hasOwnProperty("error_status")&&(t.error_status=n.convertToType(e.error_status,"Boolean")),e.hasOwnProperty("response")&&(t.response=r.constructFromObject(e.response))),t},o.prototype.error_status=void 0,o.prototype.response=void 0,o},"function"==typeof ddefine&&ddefine.amd?ddefine(["ApiClient","model/InlineResponse2001Response"],o):"object"==typeof t&&t.exports?t.exports=o(e("../ApiClient"),e("./InlineResponse2001Response")):(r.BoxxClient||(r.BoxxClient={}),r.BoxxClient.InlineResponse2001=o(r.BoxxClient.ApiClient,r.BoxxClient.InlineResponse2001Response))},{"../ApiClient":10,"./InlineResponse2001Response":23}],23:[function(e,t,n){var r,o;r=this,o=function(n){"use strict";function r(){}return r.constructFromObject=function(e,t){return e&&(t=t||new r,e.hasOwnProperty("total_items")&&(t.total_items=n.convertToType(e.total_items,"Number")),e.hasOwnProperty("failed_items")&&(t.failed_items=n.convertToType(e.failed_items,["Number"])),e.hasOwnProperty("delete_items")&&(t.delete_items=n.convertToType(e.delete_items,"Number")),e.hasOwnProperty("found_items")&&(t.found_items=n.convertToType(e.found_items,"Number"))),t},r.prototype.total_items=void 0,r.prototype.failed_items=void 0,r.prototype.delete_items=void 0,r.prototype.found_items=void 0,r},"function"==typeof ddefine&&ddefine.amd?ddefine(["ApiClient"],o):"object"==typeof t&&t.exports?t.exports=o(e("../ApiClient")):(r.BoxxClient||(r.BoxxClient={}),r.BoxxClient.InlineResponse2001Response=o(r.BoxxClient.ApiClient))},{"../ApiClient":10}],24:[function(e,t,n){var r,o;r=this,o=function(n,r){"use strict";function o(){}return o.constructFromObject=function(e,t){return e&&(t=t||new o,e.hasOwnProperty("error_status")&&(t.error_status=n.convertToType(e.error_status,"Boolean")),e.hasOwnProperty("response")&&(t.response=r.constructFromObject(e.response))),t},o.prototype.error_status=void 0,o.prototype.response=void 0,o},"function"==typeof ddefine&&ddefine.amd?ddefine(["ApiClient","model/InlineResponse2002Response"],o):"object"==typeof t&&t.exports?t.exports=o(e("../ApiClient"),e("./InlineResponse2002Response")):(r.BoxxClient||(r.BoxxClient={}),r.BoxxClient.InlineResponse2002=o(r.BoxxClient.ApiClient,r.BoxxClient.InlineResponse2002Response))},{"../ApiClient":10,"./InlineResponse2002Response":25}],25:[function(e,t,n){var r,o;r=this,o=function(n){"use strict";function r(){}return r.constructFromObject=function(e,t){return e&&(t=t||new r,e.hasOwnProperty("failed_items")&&(t.failed_items=n.convertToType(e.failed_items,["String"])),e.hasOwnProperty("delete_items")&&(t.delete_items=n.convertToType(e.delete_items,"Number"))),t},r.prototype.failed_items=void 0,r.prototype.delete_items=void 0,r},"function"==typeof ddefine&&ddefine.amd?ddefine(["ApiClient"],o):"object"==typeof t&&t.exports?t.exports=o(e("../ApiClient")):(r.BoxxClient||(r.BoxxClient={}),r.BoxxClient.InlineResponse2002Response=o(r.BoxxClient.ApiClient))},{"../ApiClient":10}],26:[function(e,t,n){var r,o;r=this,o=function(n){"use strict";function r(){}return r.constructFromObject=function(e,t){return e&&(t=t||new r,e.hasOwnProperty("total")&&(t.total=n.convertToType(e.total,"Number")),e.hasOwnProperty("failed")&&(t.failed=n.convertToType(e.failed,["String"])),e.hasOwnProperty("inserted")&&(t.inserted=n.convertToType(e.inserted,"Number")),e.hasOwnProperty("updated")&&(t.updated=n.convertToType(e.updated,"Number"))),t},r.prototype.total=void 0,r.prototype.failed=void 0,r.prototype.inserted=void 0,r.prototype.updated=void 0,r},"function"==typeof ddefine&&ddefine.amd?ddefine(["ApiClient"],o):"object"==typeof t&&t.exports?t.exports=o(e("../ApiClient")):(r.BoxxClient||(r.BoxxClient={}),r.BoxxClient.InlineResponse200Result=o(r.BoxxClient.ApiClient))},{"../ApiClient":10}],27:[function(e,t,n){var r,o;r=this,o=function(n){"use strict";function r(){}return r.constructFromObject=function(e,t){return e&&(t=t||new r,e.hasOwnProperty("status")&&(t.status=n.convertToType(e.status,"Number")),e.hasOwnProperty("result")&&(t.result=n.convertToType(e.result,"String"))),t},r.prototype.status=void 0,r.prototype.result=void 0,r},"function"==typeof ddefine&&ddefine.amd?ddefine(["ApiClient"],o):"object"==typeof t&&t.exports?t.exports=o(e("../ApiClient")):(r.BoxxClient||(r.BoxxClient={}),r.BoxxClient.InlineResponse400=o(r.BoxxClient.ApiClient))},{"../ApiClient":10}],28:[function(e,t,n){var r,o;r=this,o=function(n){"use strict";function r(){}return r.constructFromObject=function(e,t){return e&&(t=t||new r,e.hasOwnProperty("error_status")&&(t.error_status=n.convertToType(e.error_status,"Boolean")),e.hasOwnProperty("response")&&(t.response=n.convertToType(e.response,"String"))),t},r.prototype.error_status=void 0,r.prototype.response=void 0,r},"function"==typeof ddefine&&ddefine.amd?ddefine(["ApiClient"],o):"object"==typeof t&&t.exports?t.exports=o(e("../ApiClient")):(r.BoxxClient||(r.BoxxClient={}),r.BoxxClient.InlineResponse4001=o(r.BoxxClient.ApiClient))},{"../ApiClient":10}],29:[function(e,t,n){var r,o;r=this,o=function(n,r){"use strict";function o(e,t,n){this.client_id=e,this.access_token=t,this.data=n}return o.constructFromObject=function(e,t){return e&&(t=t||new o,e.hasOwnProperty("client_id")&&(t.client_id=n.convertToType(e.client_id,"String")),e.hasOwnProperty("access_token")&&(t.access_token=n.convertToType(e.access_token,"String")),e.hasOwnProperty("data")&&(t.data=n.convertToType(e.data,[r])),e.hasOwnProperty("data_format")&&(t.data_format=n.convertToType(e.data_format,{String:"String"}))),t},o.prototype.client_id=void 0,o.prototype.access_token=void 0,o.prototype.data=void 0,o.prototype.data_format=void 0,o},"function"==typeof ddefine&&ddefine.amd?ddefine(["ApiClient","model/ApiuploadcustomerData"],o):"object"==typeof t&&t.exports?t.exports=o(e("../ApiClient"),e("./ApiuploadcustomerData")):(r.BoxxClient||(r.BoxxClient={}),r.BoxxClient.RequestData=o(r.BoxxClient.ApiClient,r.BoxxClient.ApiuploadcustomerData))},{"../ApiClient":10,"./ApiuploadcustomerData":15}],30:[function(e,t,n){var r,o;r=this,o=function(n,r){"use strict";function o(e,t,n,r){this.client_id=e,this.access_token=t,this.data=n,this.data_format=r}return o.constructFromObject=function(e,t){return e&&(t=t||new o,e.hasOwnProperty("client_id")&&(t.client_id=n.convertToType(e.client_id,"String")),e.hasOwnProperty("access_token")&&(t.access_token=n.convertToType(e.access_token,"String")),e.hasOwnProperty("data")&&(t.data=n.convertToType(e.data,[r])),e.hasOwnProperty("data_format")&&(t.data_format=n.convertToType(e.data_format,{String:"String"}))),t},o.prototype.client_id=void 0,o.prototype.access_token=void 0,o.prototype.data=void 0,o.prototype.data_format=void 0,o},"function"==typeof ddefine&&ddefine.amd?ddefine(["ApiClient","model/ApiuploadproductData"],o):"object"==typeof t&&t.exports?t.exports=o(e("../ApiClient"),e("./ApiuploadproductData")):(r.BoxxClient||(r.BoxxClient={}),r.BoxxClient.RequestData1=o(r.BoxxClient.ApiClient,r.BoxxClient.ApiuploadproductData))},{"../ApiClient":10,"./ApiuploadproductData":17}],31:[function(e,t,n){var r,o;r=this,o=function(n,r){"use strict";function o(e,t,n){this.client_id=e,this.access_token=t,this.data=n}return o.constructFromObject=function(e,t){return e&&(t=t||new o,e.hasOwnProperty("client_id")&&(t.client_id=n.convertToType(e.client_id,"String")),e.hasOwnProperty("access_token")&&(t.access_token=n.convertToType(e.access_token,"String")),e.hasOwnProperty("data")&&(t.data=n.convertToType(e.data,[r])),e.hasOwnProperty("data_format")&&(t.data_format=n.convertToType(e.data_format,{String:"String"}))),t},o.prototype.client_id=void 0,o.prototype.access_token=void 0,o.prototype.data=void 0,o.prototype.data_format=void 0,o},"function"==typeof ddefine&&ddefine.amd?ddefine(["ApiClient","model/ApiuploadtransactionData"],o):"object"==typeof t&&t.exports?t.exports=o(e("../ApiClient"),e("./ApiuploadtransactionData")):(r.BoxxClient||(r.BoxxClient={}),r.BoxxClient.RequestData2=o(r.BoxxClient.ApiClient,r.BoxxClient.ApiuploadtransactionData))},{"../ApiClient":10,"./ApiuploadtransactionData":18}],32:[function(e,t,n){var r,o;r=this,o=function(n){"use strict";function r(e,t,n,r){this.client_id=e,this.access_token=t,this.data_type=n,this.data=r}return r.constructFromObject=function(e,t){return e&&(t=t||new r,e.hasOwnProperty("client_id")&&(t.client_id=n.convertToType(e.client_id,"String")),e.hasOwnProperty("access_token")&&(t.access_token=n.convertToType(e.access_token,"String")),e.hasOwnProperty("data_type")&&(t.data_type=n.convertToType(e.data_type,"String")),e.hasOwnProperty("data")&&(t.data=n.convertToType(e.data,["String"]))),t},r.prototype.client_id=void 0,r.prototype.access_token=void 0,r.prototype.data_type=void 0,r.prototype.data=void 0,r},"function"==typeof ddefine&&ddefine.amd?ddefine(["ApiClient"],o):"object"==typeof t&&t.exports?t.exports=o(e("../ApiClient")):(r.BoxxClient||(r.BoxxClient={}),r.BoxxClient.RequestData3=o(r.BoxxClient.ApiClient))},{"../ApiClient":10}],33:[function(e,t,n){var r,o;r=this,o=function(n){"use strict";function r(e,t,n){this.client_id=e,this.access_token=t,this.data_type=n}return r.constructFromObject=function(e,t){return e&&(t=t||new r,e.hasOwnProperty("client_id")&&(t.client_id=n.convertToType(e.client_id,"String")),e.hasOwnProperty("access_token")&&(t.access_token=n.convertToType(e.access_token,"String")),e.hasOwnProperty("data_type")&&(t.data_type=n.convertToType(e.data_type,"String"))),t},r.prototype.client_id=void 0,r.prototype.access_token=void 0,r.prototype.data_type=void 0,r},"function"==typeof ddefine&&ddefine.amd?ddefine(["ApiClient"],o):"object"==typeof t&&t.exports?t.exports=o(e("../ApiClient")):(r.BoxxClient||(r.BoxxClient={}),r.BoxxClient.RequestData4=o(r.BoxxClient.ApiClient))},{"../ApiClient":10}],34:[function(e,t,n){var r,o;r=this,o=function(n,r){"use strict";function o(e){this.customerid=e}return o.constructFromObject=function(e,t){return e&&(t=t||new o,e.hasOwnProperty("customerid")&&(t.customerid=n.convertToType(e.customerid,"String")),e.hasOwnProperty("properties")&&(t.properties=n.convertToType(e.properties,{String:Object})),e.hasOwnProperty("email")&&(t.email=n.convertToType(e.email,"String")),e.hasOwnProperty("phone")&&(t.phone=n.convertToType(e.phone,"String")),e.hasOwnProperty("location")&&(t.location=n.convertToType(e.location,["String"])),e.hasOwnProperty("device_tokens")&&(t.device_tokens=n.convertToType(e.device_tokens,[r]))),t},o.prototype.customerid=void 0,o.prototype.properties=void 0,o.prototype.email=void 0,o.prototype.phone=void 0,o.prototype.location=void 0,o.prototype.device_tokens=void 0,o},"function"==typeof ddefine&&ddefine.amd?ddefine(["ApiClient","model/ApiuploadcustomerDeviceTokens"],o):"object"==typeof t&&t.exports?t.exports=o(e("../ApiClient"),e("./ApiuploadcustomerDeviceTokens")):(r.BoxxClient||(r.BoxxClient={}),r.BoxxClient.UploadCustomer=o(r.BoxxClient.ApiClient,r.BoxxClient.ApiuploadcustomerDeviceTokens))},{"../ApiClient":10,"./ApiuploadcustomerDeviceTokens":16}],35:[function(e,t,n){var r,o;r=this,o=function(n,r){"use strict";function o(e,t,n){this.client_id=e,this.access_token=t,this.data=n}return o.constructFromObject=function(e,t){return e&&(t=t||new o,e.hasOwnProperty("client_id")&&(t.client_id=n.convertToType(e.client_id,"String")),e.hasOwnProperty("access_token")&&(t.access_token=n.convertToType(e.access_token,"String")),e.hasOwnProperty("data")&&(t.data=n.convertToType(e.data,[r])),e.hasOwnProperty("data_format")&&(t.data_format=n.convertToType(e.data_format,{String:"String"}))),t},o.prototype.client_id=void 0,o.prototype.access_token=void 0,o.prototype.data=void 0,o.prototype.data_format=void 0,o},"function"==typeof ddefine&&ddefine.amd?ddefine(["ApiClient","model/ApiuploadcustomerData"],o):"object"==typeof t&&t.exports?t.exports=o(e("../ApiClient"),e("./ApiuploadcustomerData")):(r.BoxxClient||(r.BoxxClient={}),r.BoxxClient.UploadCustomerRequest=o(r.BoxxClient.ApiClient,r.BoxxClient.ApiuploadcustomerData))},{"../ApiClient":10,"./ApiuploadcustomerData":15}],36:[function(e,t,n){var r,o;r=this,o=function(n,r){"use strict";function o(){}return o.constructFromObject=function(e,t){return e&&(t=t||new o,e.hasOwnProperty("status")&&(t.status=n.convertToType(e.status,"Number")),e.hasOwnProperty("result")&&(t.result=r.constructFromObject(e.result))),t},o.prototype.status=void 0,o.prototype.result=void 0,o},"function"==typeof ddefine&&ddefine.amd?ddefine(["ApiClient","model/InlineResponse200Result"],o):"object"==typeof t&&t.exports?t.exports=o(e("../ApiClient"),e("./InlineResponse200Result")):(r.BoxxClient||(r.BoxxClient={}),r.BoxxClient.UploadOkResponse=o(r.BoxxClient.ApiClient,r.BoxxClient.InlineResponse200Result))},{"../ApiClient":10,"./InlineResponse200Result":26}],37:[function(e,t,n){var r,o;r=this,o=function(n){"use strict";function r(e){this.productid=e}return r.constructFromObject=function(e,t){return e&&(t=t||new r,e.hasOwnProperty("productid")&&(t.productid=n.convertToType(e.productid,"String")),e.hasOwnProperty("active")&&(t.active=n.convertToType(e.active,"Boolean")),e.hasOwnProperty("start_date")&&(t.start_date=n.convertToType(e.start_date,"String")),e.hasOwnProperty("end_date")&&(t.end_date=n.convertToType(e.end_date,"String")),e.hasOwnProperty("location")&&(t.location=n.convertToType(e.location,["String"])),e.hasOwnProperty("properties")&&(t.properties=n.convertToType(e.properties,{String:Object}))),t},r.prototype.productid=void 0,r.prototype.active=!1,r.prototype.start_date=void 0,r.prototype.end_date=void 0,r.prototype.location=void 0,r.prototype.properties=void 0,r},"function"==typeof ddefine&&ddefine.amd?ddefine(["ApiClient"],o):"object"==typeof t&&t.exports?t.exports=o(e("../ApiClient")):(r.BoxxClient||(r.BoxxClient={}),r.BoxxClient.UploadProduct=o(r.BoxxClient.ApiClient))},{"../ApiClient":10}],38:[function(e,t,n){var r,o;r=this,o=function(n,r){"use strict";function o(e,t,n){this.client_id=e,this.access_token=t,this.data=n}return o.constructFromObject=function(e,t){return e&&(t=t||new o,e.hasOwnProperty("client_id")&&(t.client_id=n.convertToType(e.client_id,"String")),e.hasOwnProperty("access_token")&&(t.access_token=n.convertToType(e.access_token,"String")),e.hasOwnProperty("data")&&(t.data=n.convertToType(e.data,[r])),e.hasOwnProperty("data_format")&&(t.data_format=n.convertToType(e.data_format,{String:"String"}))),t},o.prototype.client_id=void 0,o.prototype.access_token=void 0,o.prototype.data=void 0,o.prototype.data_format=void 0,o},"function"==typeof ddefine&&ddefine.amd?ddefine(["ApiClient","model/ApiuploadproductData"],o):"object"==typeof t&&t.exports?t.exports=o(e("../ApiClient"),e("./ApiuploadproductData")):(r.BoxxClient||(r.BoxxClient={}),r.BoxxClient.UploadProductRequest=o(r.BoxxClient.ApiClient,r.BoxxClient.ApiuploadproductData))},{"../ApiClient":10,"./ApiuploadproductData":17}],39:[function(e,t,n){var r,o;r=this,o=function(n){"use strict";function r(e,t,n){this.productid=e,this.type=t,this.transactiondate=n}return r.constructFromObject=function(e,t){return e&&(t=t||new r,e.hasOwnProperty("customerid")&&(t.customerid=n.convertToType(e.customerid,"String")),e.hasOwnProperty("cookieid")&&(t.cookieid=n.convertToType(e.cookieid,"String")),e.hasOwnProperty("properties")&&(t.properties=n.convertToType(e.properties,{String:Object})),e.hasOwnProperty("transactionid")&&(t.transactionid=n.convertToType(e.transactionid,"String")),e.hasOwnProperty("productid")&&(t.productid=n.convertToType(e.productid,"String")),e.hasOwnProperty("type")&&(t.type=n.convertToType(e.type,"String")),e.hasOwnProperty("transactiondate")&&(t.transactiondate=n.convertToType(e.transactiondate,"String")),e.hasOwnProperty("location")&&(t.location=n.convertToType(e.location,["String"]))),t},r.prototype.customerid=void 0,r.prototype.cookieid=void 0,r.prototype.properties=void 0,r.prototype.transactionid=void 0,r.prototype.productid=void 0,r.prototype.type=void 0,r.prototype.transactiondate=void 0,r.prototype.location=void 0,r},"function"==typeof ddefine&&ddefine.amd?ddefine(["ApiClient"],o):"object"==typeof t&&t.exports?t.exports=o(e("../ApiClient")):(r.BoxxClient||(r.BoxxClient={}),r.BoxxClient.UploadTransaction=o(r.BoxxClient.ApiClient))},{"../ApiClient":10}],40:[function(e,t,n){var r,o;r=this,o=function(n,r){"use strict";function o(e,t,n){this.client_id=e,this.access_token=t,this.data=n}return o.constructFromObject=function(e,t){return e&&(t=t||new o,e.hasOwnProperty("client_id")&&(t.client_id=n.convertToType(e.client_id,"String")),e.hasOwnProperty("access_token")&&(t.access_token=n.convertToType(e.access_token,"String")),e.hasOwnProperty("data")&&(t.data=n.convertToType(e.data,[r])),e.hasOwnProperty("data_format")&&(t.data_format=n.convertToType(e.data_format,{String:"String"}))),t},o.prototype.client_id=void 0,o.prototype.access_token=void 0,o.prototype.data=void 0,o.prototype.data_format=void 0,o},"function"==typeof ddefine&&ddefine.amd?ddefine(["ApiClient","model/ApiuploadtransactionData"],o):"object"==typeof t&&t.exports?t.exports=o(e("../ApiClient"),e("./ApiuploadtransactionData")):(r.BoxxClient||(r.BoxxClient={}),r.BoxxClient.UploadTransactionRequest=o(r.BoxxClient.ApiClient,r.BoxxClient.ApiuploadtransactionData))},{"../ApiClient":10,"./ApiuploadtransactionData":18}],41:[function(e,t,n){},{}],42:[function(e,t,n){"use strict";n.byteLength=function(e){return 3*e.length/4-u(e)},n.toByteArray=function(e){var t,n,r,o,i,a=e.length;o=u(e),i=new p(3*a/4-o),n=0<o?a-4:a;var s=0;for(t=0;t<n;t+=4)r=l[e.charCodeAt(t)]<<18|l[e.charCodeAt(t+1)]<<12|l[e.charCodeAt(t+2)]<<6|l[e.charCodeAt(t+3)],i[s++]=r>>16&255,i[s++]=r>>8&255,i[s++]=255&r;2===o?(r=l[e.charCodeAt(t)]<<2|l[e.charCodeAt(t+1)]>>4,i[s++]=255&r):1===o&&(r=l[e.charCodeAt(t)]<<10|l[e.charCodeAt(t+1)]<<4|l[e.charCodeAt(t+2)]>>2,i[s++]=r>>8&255,i[s++]=255&r);return i},n.fromByteArray=function(e){for(var t,n=e.length,r=n%3,o="",i=[],a=0,s=n-r;a<s;a+=16383)i.push(function(e,t,n){for(var r,o=[],i=t;i<n;i+=3)r=(e[i]<<16)+(e[i+1]<<8)+e[i+2],o.push(function(e){return c[e>>18&63]+c[e>>12&63]+c[e>>6&63]+c[63&e]}(r));return o.join("")}(e,a,s<a+16383?s:a+16383));1==r?(t=e[n-1],o+=c[t>>2],o+=c[t<<4&63],o+="=="):2==r&&(t=(e[n-2]<<8)+e[n-1],o+=c[t>>10],o+=c[t>>4&63],o+=c[t<<2&63],o+="=");return i.push(o),i.join("")};for(var c=[],l=[],p="undefined"!=typeof Uint8Array?Uint8Array:Array,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=0,i=r.length;o<i;++o)c[o]=r[o],l[r.charCodeAt(o)]=o;function u(e){var t=e.length;if(0<t%4)throw new Error("Invalid string. Length must be a multiple of 4");return"="===e[t-2]?2:"="===e[t-1]?1:0}l["-".charCodeAt(0)]=62,l["_".charCodeAt(0)]=63},{}],43:[function(e,t,n){"use strict";var s=e("base64-js"),i=e("ieee754");n.Buffer=u,n.SlowBuffer=function(e){+e!=e&&(e=0);return u.alloc(+e)},n.INSPECT_MAX_BYTES=50;var r=2147483647;function a(e){if(r<e)throw new RangeError("Invalid typed array length");var t=new Uint8Array(e);return t.__proto__=u.prototype,t}function u(e,t,n){if("number"!=typeof e)return o(e,t,n);if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return l(e)}function o(e,t,n){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return e instanceof ArrayBuffer?function(e,t,n){if(t<0||e.byteLength<t)throw new RangeError("'offset' is out of bounds");if(e.byteLength<t+(n||0))throw new RangeError("'length' is out of bounds");var r;r=void 0===t&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,t):new Uint8Array(e,t,n);return r.__proto__=u.prototype,r}(e,t,n):"string"==typeof e?function(e,t){"string"==typeof t&&""!==t||(t="utf8");if(!u.isEncoding(t))throw new TypeError('"encoding" must be a valid string encoding');var n=0|f(e,t),r=a(n),o=r.write(e,t);o!==n&&(r=r.slice(0,o));return r}(e,t):function(e){if(u.isBuffer(e)){var t=0|d(e.length),n=a(t);return 0===n.length?n:(e.copy(n,0,0,t),n)}if(e){if(I(e)||"length"in e)return"number"!=typeof e.length||R(e.length)?a(0):p(e);if("Buffer"===e.type&&Array.isArray(e.data))return p(e.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e)}function c(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function l(e){return c(e),a(e<0?0:0|d(e))}function p(e){for(var t=e.length<0?0:0|d(e.length),n=a(t),r=0;r<t;r+=1)n[r]=255&e[r];return n}function d(e){if(r<=e)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+r.toString(16)+" bytes");return 0|e}function f(e,t){if(u.isBuffer(e))return e.length;if(I(e)||e instanceof ArrayBuffer)return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return B(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return A(e).length;default:if(r)return B(e).length;t=(""+t).toLowerCase(),r=!0}}function h(e,t,n){var r,o,i,a=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e=e||"utf8";;)switch(e){case"hex":return function(e,t,n){var r=e.length;(!t||t<0)&&(t=0);(!n||n<0||r<n)&&(n=r);for(var o="",i=t;i<n;++i)o+=function(e){return e<16?"0"+e.toString(16):e.toString(16)}(e[i]);return o}(this,t,n);case"utf8":case"utf-8":return v(this,t,n);case"ascii":return function(e,t,n){var r="";n=Math.min(e.length,n);for(var o=t;o<n;++o)r+=String.fromCharCode(127&e[o]);return r}(this,t,n);case"latin1":case"binary":return function(e,t,n){var r="";n=Math.min(e.length,n);for(var o=t;o<n;++o)r+=String.fromCharCode(e[o]);return r}(this,t,n);case"base64":return r=this,i=n,0===(o=t)&&i===r.length?s.fromByteArray(r):s.fromByteArray(r.slice(o,i));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return function(e,t,n){for(var r=e.slice(t,n),o="",i=0;i<r.length;i+=2)o+=String.fromCharCode(r[i]+256*r[i+1]);return o}(this,t,n);default:if(a)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),a=!0}}function x(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function y(e,t,n,r,o){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):2147483647<n?n=2147483647:n<-2147483648&&(n=-2147483648),R(n=+n)&&(n=o?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(o)return-1;n=e.length-1}else if(n<0){if(!o)return-1;n=0}if("string"==typeof t&&(t=u.from(t,r)),u.isBuffer(t))return 0===t.length?-1:g(e,t,n,r,o);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):g(e,[t],n,r,o);throw new TypeError("val must be string, number or Buffer")}function g(e,t,n,r,o){var i=1,a=e.length,s=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;a/=i=2,s/=2,n/=2}function c(e,t){return 1===i?e[t]:e.readUInt16BE(t*i)}if(o)for(var l=-1,p=n;p<a;p++)if(c(e,p)===c(t,-1===l?0:p-l)){if(-1===l&&(l=p),p-l+1===s)return l*i}else-1!==l&&(p-=p-l),l=-1;else for(a<n+s&&(n=a-s),p=n;0<=p;p--){for(var u=!0,d=0;d<s;d++)if(c(e,p+d)!==c(t,d)){u=!1;break}if(u)return p}return-1}function b(e,t,n,r){return O(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function m(e,t,n,r){return O(function(e,t){for(var n,r,o,i=[],a=0;a<e.length&&!((t-=2)<0);++a)n=e.charCodeAt(a),r=n>>8,o=n%256,i.push(o),i.push(r);return i}(t,e.length-n),e,n,r)}function v(e,t,n){n=Math.min(e.length,n);for(var r=[],o=t;o<n;){var i,a,s,c,l=e[o],p=null,u=239<l?4:223<l?3:191<l?2:1;if(o+u<=n)switch(u){case 1:l<128&&(p=l);break;case 2:128==(192&(i=e[o+1]))&&127<(c=(31&l)<<6|63&i)&&(p=c);break;case 3:i=e[o+1],a=e[o+2],128==(192&i)&&128==(192&a)&&2047<(c=(15&l)<<12|(63&i)<<6|63&a)&&(c<55296||57343<c)&&(p=c);break;case 4:i=e[o+1],a=e[o+2],s=e[o+3],128==(192&i)&&128==(192&a)&&128==(192&s)&&65535<(c=(15&l)<<18|(63&i)<<12|(63&a)<<6|63&s)&&c<1114112&&(p=c)}null===p?(p=65533,u=1):65535<p&&(p-=65536,r.push(p>>>10&1023|55296),p=56320|1023&p),r.push(p),o+=u}return function(e){var t=e.length;if(t<=_)return String.fromCharCode.apply(String,e);var n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=_));return n}(r)}n.kMaxLength=r,(u.TYPED_ARRAY_SUPPORT=function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()}catch(e){return!1}}())||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),"undefined"!=typeof Symbol&&Symbol.species&&u[Symbol.species]===u&&Object.ddefineProperty(u,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),u.poolSize=8192,u.from=o,u.prototype.__proto__=Uint8Array.prototype,u.__proto__=Uint8Array,u.alloc=function(e,t,n){return o=t,i=n,c(r=e),r<=0||void 0===o?a(r):"string"==typeof i?a(r).fill(o,i):a(r).fill(o);var r,o,i},u.allocUnsafe=l,u.allocUnsafeSlow=l,u.isBuffer=function(e){return null!=e&&!0===e._isBuffer},u.compare=function(e,t){if(!u.isBuffer(e)||!u.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,o=0,i=Math.min(n,r);o<i;++o)if(e[o]!==t[o]){n=e[o],r=t[o];break}return n<r?-1:r<n?1:0},u.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return u.alloc(0);if(void 0===t)for(o=t=0;o<e.length;++o)t+=e[o].length;for(var n=u.allocUnsafe(t),r=0,o=0;o<e.length;++o){var i=e[o];if(!u.isBuffer(i))throw new TypeError('"list" argument must be an Array of Buffers');i.copy(n,r),r+=i.length}return n},u.byteLength=f,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)x(this,t,t+1);return this},u.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)x(this,t,t+3),x(this,t+1,t+2);return this},u.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)x(this,t,t+7),x(this,t+1,t+6),x(this,t+2,t+5),x(this,t+3,t+4);return this},u.prototype.toString=function(){var e=this.length;return 0===e?"":0===arguments.length?v(this,0,e):h.apply(this,arguments)},u.prototype.equals=function(e){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===u.compare(this,e)},u.prototype.inspect=function(){var e="",t=n.INSPECT_MAX_BYTES;return 0<this.length&&(e=this.toString("hex",0,t).match(/.{2}/g).join(" "),this.length>t&&(e+=" ... ")),"<Buffer "+e+">"},u.prototype.compare=function(e,t,n,r,o){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===o&&(o=this.length),t<0||n>e.length||r<0||o>this.length)throw new RangeError("out of range index");if(o<=r&&n<=t)return 0;if(o<=r)return-1;if(n<=t)return 1;if(this===e)return 0;for(var i=(o>>>=0)-(r>>>=0),a=(n>>>=0)-(t>>>=0),s=Math.min(i,a),c=this.slice(r,o),l=e.slice(t,n),p=0;p<s;++p)if(c[p]!==l[p]){i=c[p],a=l[p];break}return i<a?-1:a<i?1:0},u.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},u.prototype.indexOf=function(e,t,n){return y(this,e,t,n,!0)},u.prototype.lastIndexOf=function(e,t,n){return y(this,e,t,n,!1)},u.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var o=this.length-t;if((void 0===n||o<n)&&(n=o),0<e.length&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r=r||"utf8";for(var i,a,s,c,l,p,u=!1;;)switch(r){case"hex":return function(e,t,n,r){n=Number(n)||0;var o=e.length-n;(!r||o<(r=Number(r)))&&(r=o);var i=t.length;if(i%2!=0)throw new TypeError("Invalid hex string");i/2<r&&(r=i/2);for(var a=0;a<r;++a){var s=parseInt(t.substr(2*a,2),16);if(R(s))return a;e[n+a]=s}return a}(this,e,t,n);case"utf8":case"utf-8":return l=t,p=n,O(B(e,(c=this).length-l),c,l,p);case"ascii":return b(this,e,t,n);case"latin1":case"binary":return b(this,e,t,n);case"base64":return i=this,a=t,s=n,O(A(e),i,a,s);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return m(this,e,t,n);default:if(u)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),u=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var _=4096;function w(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(n<e+t)throw new RangeError("Trying to access beyond buffer length")}function C(e,t,n,r,o,i){if(!u.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(o<t||t<i)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function T(e,t,n,r){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function k(e,t,n,r,o){return t=+t,n>>>=0,o||T(e,0,n,4),i.write(e,t,n,r,23,4),n+4}function E(e,t,n,r,o){return t=+t,n>>>=0,o||T(e,0,n,8),i.write(e,t,n,r,52,8),n+8}u.prototype.slice=function(e,t){var n=this.length;(e=~~e)<0?(e+=n)<0&&(e=0):n<e&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):n<t&&(t=n),t<e&&(t=e);var r=this.subarray(e,t);return r.__proto__=u.prototype,r},u.prototype.readUIntLE=function(e,t,n){e>>>=0,t>>>=0,n||w(e,t,this.length);for(var r=this[e],o=1,i=0;++i<t&&(o*=256);)r+=this[e+i]*o;return r},u.prototype.readUIntBE=function(e,t,n){e>>>=0,t>>>=0,n||w(e,t,this.length);for(var r=this[e+--t],o=1;0<t&&(o*=256);)r+=this[e+--t]*o;return r},u.prototype.readUInt8=function(e,t){return e>>>=0,t||w(e,1,this.length),this[e]},u.prototype.readUInt16LE=function(e,t){return e>>>=0,t||w(e,2,this.length),this[e]|this[e+1]<<8},u.prototype.readUInt16BE=function(e,t){return e>>>=0,t||w(e,2,this.length),this[e]<<8|this[e+1]},u.prototype.readUInt32LE=function(e,t){return e>>>=0,t||w(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},u.prototype.readUInt32BE=function(e,t){return e>>>=0,t||w(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},u.prototype.readIntLE=function(e,t,n){e>>>=0,t>>>=0,n||w(e,t,this.length);for(var r=this[e],o=1,i=0;++i<t&&(o*=256);)r+=this[e+i]*o;return(o*=128)<=r&&(r-=Math.pow(2,8*t)),r},u.prototype.readIntBE=function(e,t,n){e>>>=0,t>>>=0,n||w(e,t,this.length);for(var r=t,o=1,i=this[e+--r];0<r&&(o*=256);)i+=this[e+--r]*o;return(o*=128)<=i&&(i-=Math.pow(2,8*t)),i},u.prototype.readInt8=function(e,t){return e>>>=0,t||w(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},u.prototype.readInt16LE=function(e,t){e>>>=0,t||w(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt16BE=function(e,t){e>>>=0,t||w(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt32LE=function(e,t){return e>>>=0,t||w(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},u.prototype.readInt32BE=function(e,t){return e>>>=0,t||w(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},u.prototype.readFloatLE=function(e,t){return e>>>=0,t||w(e,4,this.length),i.read(this,e,!0,23,4)},u.prototype.readFloatBE=function(e,t){return e>>>=0,t||w(e,4,this.length),i.read(this,e,!1,23,4)},u.prototype.readDoubleLE=function(e,t){return e>>>=0,t||w(e,8,this.length),i.read(this,e,!0,52,8)},u.prototype.readDoubleBE=function(e,t){return e>>>=0,t||w(e,8,this.length),i.read(this,e,!1,52,8)},u.prototype.writeUIntLE=function(e,t,n,r){e=+e,t>>>=0,n>>>=0,r||C(this,e,t,n,Math.pow(2,8*n)-1,0);var o=1,i=0;for(this[t]=255&e;++i<n&&(o*=256);)this[t+i]=e/o&255;return t+n},u.prototype.writeUIntBE=function(e,t,n,r){e=+e,t>>>=0,n>>>=0,r||C(this,e,t,n,Math.pow(2,8*n)-1,0);var o=n-1,i=1;for(this[t+o]=255&e;0<=--o&&(i*=256);)this[t+o]=e/i&255;return t+n},u.prototype.writeUInt8=function(e,t,n){return e=+e,t>>>=0,n||C(this,e,t,1,255,0),this[t]=255&e,t+1},u.prototype.writeUInt16LE=function(e,t,n){return e=+e,t>>>=0,n||C(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},u.prototype.writeUInt16BE=function(e,t,n){return e=+e,t>>>=0,n||C(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},u.prototype.writeUInt32LE=function(e,t,n){return e=+e,t>>>=0,n||C(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},u.prototype.writeUInt32BE=function(e,t,n){return e=+e,t>>>=0,n||C(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},u.prototype.writeIntLE=function(e,t,n,r){var o;e=+e,t>>>=0,r||C(this,e,t,n,(o=Math.pow(2,8*n-1))-1,-o);var i=0,a=1,s=0;for(this[t]=255&e;++i<n&&(a*=256);)e<0&&0===s&&0!==this[t+i-1]&&(s=1),this[t+i]=(e/a>>0)-s&255;return t+n},u.prototype.writeIntBE=function(e,t,n,r){var o;e=+e,t>>>=0,r||C(this,e,t,n,(o=Math.pow(2,8*n-1))-1,-o);var i=n-1,a=1,s=0;for(this[t+i]=255&e;0<=--i&&(a*=256);)e<0&&0===s&&0!==this[t+i+1]&&(s=1),this[t+i]=(e/a>>0)-s&255;return t+n},u.prototype.writeInt8=function(e,t,n){return e=+e,t>>>=0,n||C(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},u.prototype.writeInt16LE=function(e,t,n){return e=+e,t>>>=0,n||C(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},u.prototype.writeInt16BE=function(e,t,n){return e=+e,t>>>=0,n||C(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},u.prototype.writeInt32LE=function(e,t,n){return e=+e,t>>>=0,n||C(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},u.prototype.writeInt32BE=function(e,t,n){return e=+e,t>>>=0,n||C(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},u.prototype.writeFloatLE=function(e,t,n){return k(this,e,t,!0,n)},u.prototype.writeFloatBE=function(e,t,n){return k(this,e,t,!1,n)},u.prototype.writeDoubleLE=function(e,t,n){return E(this,e,t,!0,n)},u.prototype.writeDoubleBE=function(e,t,n){return E(this,e,t,!1,n)},u.prototype.copy=function(e,t,n,r){if(n=n||0,r||0===r||(r=this.length),t>=e.length&&(t=e.length),t=t||0,0<r&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var o,i=r-n;if(this===e&&n<t&&t<r)for(o=i-1;0<=o;--o)e[o+t]=this[o+n];else if(i<1e3)for(o=0;o<i;++o)e[o+t]=this[o+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+i),t);return i},u.prototype.fill=function(e,t,n,r){if("string"==typeof e){var o;if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1!==e.length||(o=e.charCodeAt(0))<256&&(e=o),void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!u.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;if(t>>>=0,n=void 0===n?this.length:n>>>0,"number"==typeof(e=e||0))for(s=t;s<n;++s)this[s]=e;else for(var i=u.isBuffer(e)?e:new u(e,r),a=i.length,s=0;s<n-t;++s)this[s+t]=i[s%a];return this};var S=/[^+/0-9A-Za-z-_]/g;function B(e,t){var n;t=t||1/0;for(var r=e.length,o=null,i=[],a=0;a<r;++a){if(55295<(n=e.charCodeAt(a))&&n<57344){if(!o){if(56319<n){-1<(t-=3)&&i.push(239,191,189);continue}if(a+1===r){-1<(t-=3)&&i.push(239,191,189);continue}o=n;continue}if(n<56320){-1<(t-=3)&&i.push(239,191,189),o=n;continue}n=65536+(o-55296<<10|n-56320)}else o&&-1<(t-=3)&&i.push(239,191,189);if(o=null,n<128){if(--t<0)break;i.push(n)}else if(n<2048){if((t-=2)<0)break;i.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;i.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;i.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return i}function A(e){return s.toByteArray(function(e){if((e=e.trim().replace(S,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function O(e,t,n,r){for(var o=0;o<r&&!(o+n>=t.length||o>=e.length);++o)t[o+n]=e[o];return o}function I(e){return"function"==typeof ArrayBuffer.isView&&ArrayBuffer.isView(e)}function R(e){return e!=e}},{"base64-js":42,ieee754:44}],44:[function(e,t,n){n.read=function(e,t,n,r,o){var i,a,s=8*o-r-1,c=(1<<s)-1,l=c>>1,p=-7,u=n?o-1:0,d=n?-1:1,f=e[t+u];for(u+=d,i=f&(1<<-p)-1,f>>=-p,p+=s;0<p;i=256*i+e[t+u],u+=d,p-=8);for(a=i&(1<<-p)-1,i>>=-p,p+=r;0<p;a=256*a+e[t+u],u+=d,p-=8);if(0===i)i=1-l;else{if(i===c)return a?NaN:1/0*(f?-1:1);a+=Math.pow(2,r),i-=l}return(f?-1:1)*a*Math.pow(2,i-r)},n.write=function(e,t,n,r,o,i){var a,s,c,l=8*i-o-1,p=(1<<l)-1,u=p>>1,d=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,f=r?0:i-1,h=r?1:-1,x=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=p):(a=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-a))<1&&(a--,c*=2),2<=(t+=1<=a+u?d/c:d*Math.pow(2,1-u))*c&&(a++,c/=2),p<=a+u?(s=0,a=p):1<=a+u?(s=(t*c-1)*Math.pow(2,o),a+=u):(s=t*Math.pow(2,u-1)*Math.pow(2,o),a=0));8<=o;e[n+f]=255&s,f+=h,s/=256,o-=8);for(a=a<<o|s,l+=o;0<l;e[n+f]=255&a,f+=h,a/=256,l-=8);e[n+f-h]|=128*x}},{}],45:[function(e,t,n){"use strict";t.exports=function(e,t,n,r){t=t||"&",n=n||"=";var o={};if("string"!=typeof e||0===e.length)return o;var i=/\+/g;e=e.split(t);var a=1e3;r&&"number"==typeof r.maxKeys&&(a=r.maxKeys);var s=e.length;0<a&&a<s&&(s=a);for(var c,l,p=0;p<s;++p){var u,d=e[p].replace(i,"%20"),f=d.indexOf(n),h=0<=f?(u=d.substr(0,f),d.substr(f+1)):(u=d,""),x=decodeURIComponent(u),y=decodeURIComponent(h);c=o,l=x,Object.prototype.hasOwnProperty.call(c,l)?g(o[x])?o[x].push(y):o[x]=[o[x],y]:o[x]=y}return o};var g=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},{}],46:[function(e,t,n){"use strict";function i(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}}t.exports=function(n,r,o,e){return r=r||"&",o=o||"=",null===n&&(n=void 0),"object"==typeof n?s(c(n),function(e){var t=encodeURIComponent(i(e))+o;return a(n[e])?s(n[e],function(e){return t+encodeURIComponent(i(e))}).join(r):t+encodeURIComponent(i(n[e]))}).join(r):e?encodeURIComponent(i(e))+o+encodeURIComponent(i(n)):""};var a=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function s(e,t){if(e.map)return e.map(t);for(var n=[],r=0;r<e.length;r++)n.push(t(e[r],r));return n}var c=Object.keys||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t}},{}],47:[function(e,t,n){"use strict";n.decode=n.parse=e("./decode"),n.encode=n.stringify=e("./encode")},{"./decode":45,"./encode":46}]},{},[1]);var executePostBoxxTokenSet=function(){bxLog("BXS> ExecutePostBoxxTokenSet >>>"),"boxxWidgetConfig"in window&&BoxxClient.getWidgets(getBoxxCustomerId(),boxxWidgetConfig),bxLog("BXS> TriggerableConfs",scrape_init.triggerableConfs);try{autoTriggerEvents(getBoxxCustomerId(),scrape_init.triggerableConfs)}catch(e){bxErrMan.push({cx:{errAt:"autoTriggerEvents in executePostBoxxTokenSet",conf:scrape_init.triggerableConfs},eM:e.message,sT:e.stack},"error")}}}catch(e){bxErrMan.push({cx:{errAt:"outermost Catch >>> could be critical"},eM:e.message,sT:e.stack},"error")}};"loading"===document.readyState?window.addEventListener("load",function e(t){bxLog("Load event called"),boxxRunner(),window.removeEventListener("load",e)}):boxxRunner();
